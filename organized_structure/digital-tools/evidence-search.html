<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“š í† ë¡  ê·¼ê±°ìë£Œ ê²€ìƒ‰ ë„êµ¬ - AI ê¸°ë°˜ ìë£Œ ê²€ìƒ‰ ì‹œìŠ¤í…œ</title>
    
    <!-- External Libraries -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    
    <style>
        /* ===== ê¸°ë³¸ ì„¤ì • ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* ë©”ì¸ ì»¬ëŸ¬ ì‹œìŠ¤í…œ - ì›ë³¸ í”„ë¡œê·¸ë¨ ê¸°ì¤€ */
            --primary-color: #059669;
            --primary-hover: #047857;
            --primary-light: #10b981;
            --primary-dark: #065f46;
            --secondary-color: #64748b;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --info-color: #3b82f6;
            
            /* ë°°ê²½ ë° í‘œë©´ ìƒ‰ìƒ */
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --glass-bg: rgba(255, 255, 255, 0.8);
            --overlay-bg: rgba(0, 0, 0, 0.7);
            
            /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            --text-color: #1f2937;
            --text-secondary: #64748b;
            --text-light: #94a3b8;
            --text-white: #ffffff;
            
            /* í…Œë‘ë¦¬ ë° êµ¬ë¶„ì„  */
            --border-color: #e2e8f0;
            --border-light: #f1f5f9;
            --border-dark: #cbd5e1;
            
            /* ê·¸ë¦¼ì ì‹œìŠ¤í…œ */
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
            
            /* ê·¸ë˜ë””ì–¸íŠ¸ */
            --gradient-primary: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            --gradient-bg: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            --gradient-card: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            
            /* ì• ë‹ˆë©”ì´ì…˜ */
            --transition-fast: 0.15s ease-out;
            --transition-normal: 0.3s ease;
            --transition-slow: 0.5s ease;
            
            /* ê°„ê²© ë° í¬ê¸° */
            --space-xs: 0.25rem;
            --space-sm: 0.5rem;
            --space-md: 1rem;
            --space-lg: 1.5rem;
            --space-xl: 2rem;
            --space-2xl: 3rem;
            
            /* ë°˜ì‘í˜• ë¸Œë ˆì´í¬í¬ì¸íŠ¸ */
            --breakpoint-sm: 640px;
            --breakpoint-md: 768px;
            --breakpoint-lg: 1024px;
            --breakpoint-xl: 1280px;
        }

        /* ===== ê¸°ë³¸ ìŠ¤íƒ€ì¼ ===== */
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: var(--gradient-bg);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ===== í—¤ë” ì„¹ì…˜ ===== */
        .header {
            text-align: center;
            padding: var(--space-2xl) var(--space-lg);
            background: var(--gradient-primary);
            color: var(--text-white);
            box-shadow: var(--shadow-lg);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: float 6s ease-in-out infinite;
        }

        .header h1 {
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 800;
            margin-bottom: var(--space-md);
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-md);
            flex-wrap: wrap;
        }

        .header .subtitle {
            font-size: clamp(1rem, 2vw, 1.25rem);
            font-weight: 400;
            opacity: 0.9;
            position: relative;
            z-index: 1;
            margin-bottom: var(--space-lg);
        }

        .header .features {
            display: flex;
            justify-content: center;
            gap: var(--space-xl);
            flex-wrap: wrap;
            position: relative;
            z-index: 1;
        }

        .header .feature-badge {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            padding: var(--space-sm) var(--space-lg);
            font-size: 0.9rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        /* ===== ì»¨í…Œì´ë„ˆ ===== */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--space-xl) var(--space-lg);
        }

        /* ===== ì¹´ë“œ ì‹œìŠ¤í…œ ===== */
        .card {
            background: var(--gradient-card);
            border-radius: 20px;
            padding: var(--space-2xl);
            margin-bottom: var(--space-xl);
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
            transition: var(--transition-normal);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: between;
            margin-bottom: var(--space-xl);
            flex-wrap: wrap;
            gap: var(--space-md);
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .card-subtitle {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-top: var(--space-xs);
        }

        /* ===== ê²€ìƒ‰ ì„¹ì…˜ ===== */
        .search-container {
            background: var(--card-bg);
            border-radius: 16px;
            padding: var(--space-lg);
            box-shadow: var(--shadow-inner);
            border: 2px solid var(--border-light);
        }

        .search-section {
            display: grid;
            grid-template-columns: 1fr auto auto;
            gap: var(--space-md);
            margin-bottom: var(--space-lg);
            align-items: end;
        }

        .search-input-group {
            position: relative;
        }

        .search-input-group label {
            display: block;
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: var(--space-sm);
            font-size: 0.95rem;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px 15px 50px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            font-size: 1.1rem;
            font-family: inherit;
            transition: var(--transition-normal);
            background: var(--card-bg);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(5, 150, 105, 0.1);
        }

        .search-input-icon {
            position: absolute;
            left: 16px;
            bottom: 16px;
            color: var(--text-secondary);
            font-size: 1.2rem;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--space-sm);
            padding: 15px 24px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            font-family: inherit;
            cursor: pointer;
            transition: var(--transition-normal);
            text-decoration: none;
            white-space: nowrap;
            user-select: none;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn.primary {
            background: var(--gradient-primary);
            color: var(--text-white);
            box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);
        }

        .btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(5, 150, 105, 0.4);
        }

        .btn.secondary {
            background: var(--card-bg);
            color: var(--text-color);
            border: 2px solid var(--border-color);
        }

        .btn.secondary:hover {
            background: var(--border-light);
            border-color: var(--primary-color);
        }

        .btn.ai-powered {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            position: relative;
        }

        .btn.ai-powered::after {
            content: 'âœ¨';
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            animation: sparkle 2s ease-in-out infinite;
        }

        /* ===== í•„í„° ì‹œìŠ¤í…œ ===== */
        .filters-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-lg);
            margin-bottom: var(--space-lg);
        }

        .filter-group {
            background: var(--card-bg);
            padding: var(--space-lg);
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .filter-label {
            display: block;
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: var(--space-sm);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .filter-select {
            width: 100%;
            padding: 10px 12px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            background: var(--card-bg);
            font-size: 0.95rem;
            font-family: inherit;
            cursor: pointer;
            transition: var(--transition-normal);
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .advanced-filters {
            background: var(--border-light);
            border-radius: 12px;
            padding: var(--space-lg);
            margin-top: var(--space-md);
            display: none;
        }

        .advanced-filters.active {
            display: block;
            animation: slideDown 0.3s ease-out;
        }

        /* ===== í†µê³„ ì„¹ì…˜ ===== */
        .stats-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-lg);
            margin-bottom: var(--space-xl);
        }

        .stat-card {
            background: var(--card-bg);
            padding: var(--space-lg);
            border-radius: 16px;
            text-align: center;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            transition: var(--transition-normal);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-primary);
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .stat-icon {
            font-size: 2rem;
            margin-bottom: var(--space-sm);
            color: var(--primary-color);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: var(--space-xs);
            display: block;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* ===== ê²°ê³¼ ì„¹ì…˜ ===== */
        .results-section {
            min-height: 400px;
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-lg);
            flex-wrap: wrap;
            gap: var(--space-md);
        }

        .results-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-color);
        }

        .sort-controls {
            display: flex;
            gap: var(--space-sm);
            align-items: center;
        }

        .sort-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .sort-select {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background: var(--card-bg);
            font-size: 0.9rem;
            cursor: pointer;
        }

        .result-item {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 16px;
            padding: var(--space-xl);
            margin-bottom: var(--space-lg);
            transition: var(--transition-normal);
            position: relative;
            overflow: hidden;
        }

        .result-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--gradient-primary);
            transform: scaleY(0);
            transition: transform 0.3s ease;
            transform-origin: bottom;
        }

        .result-item:hover::before {
            transform: scaleY(1);
            transform-origin: top;
        }

        .result-item:hover {
            border-color: var(--primary-color);
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--space-lg);
            flex-wrap: wrap;
            gap: var(--space-md);
        }

        .result-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-color);
            margin-bottom: var(--space-sm);
            line-height: 1.4;
        }

        .result-title:hover {
            color: var(--primary-color);
            cursor: pointer;
        }

        .result-source {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .source-badge {
            font-size: 0.85rem;
            color: var(--text-white);
            background: var(--primary-color);
            padding: 4px 12px;
            border-radius: 20px;
            font-weight: 500;
        }

        .reliability-badge {
            font-size: 0.8rem;
            padding: 3px 8px;
            border-radius: 12px;
            font-weight: 500;
        }

        .reliability-badge.high {
            background: #dcfce7;
            color: #166534;
        }

        .reliability-badge.medium {
            background: #fef3c7;
            color: #92400e;
        }

        .reliability-badge.low {
            background: #fee2e2;
            color: #991b1b;
        }

        .result-summary {
            color: var(--text-color);
            line-height: 1.7;
            margin-bottom: var(--space-lg);
            font-size: 1rem;
        }

        .result-meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-md);
            align-items: center;
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: var(--space-lg);
            padding: var(--space-md);
            background: var(--border-light);
            border-radius: 8px;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: var(--space-xs);
        }

        .result-tags {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-sm);
            margin-left: auto;
        }

        .result-tag {
            background: #e0f2fe;
            color: #0369a1;
            padding: 4px 10px;
            border-radius: 16px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .result-actions {
            display: flex;
            gap: var(--space-sm);
            flex-wrap: wrap;
        }

        .action-btn {
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            padding: 10px 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            font-family: inherit;
            transition: var(--transition-normal);
            text-decoration: none;
        }

        .action-btn.primary {
            background: var(--primary-color);
            color: var(--text-white);
        }

        .action-btn.primary:hover {
            background: var(--primary-hover);
            transform: translateY(-1px);
        }

        .action-btn.secondary {
            background: var(--border-light);
            color: var(--text-color);
            border: 1px solid var(--border-color);
        }

        .action-btn.secondary:hover {
            background: var(--card-bg);
            border-color: var(--primary-color);
        }

        .action-btn.outline {
            background: transparent;
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
        }

        .action-btn.outline:hover {
            background: var(--primary-color);
            color: var(--text-white);
        }

        /* ===== ìƒíƒœ í‘œì‹œ ===== */
        .loading-state, .empty-state, .error-state {
            text-align: center;
            padding: var(--space-2xl);
            color: var(--text-secondary);
        }

        .state-icon {
            font-size: 4rem;
            margin-bottom: var(--space-lg);
            opacity: 0.7;
        }

        .state-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: var(--space-md);
            color: var(--text-color);
        }

        .state-description {
            font-size: 1rem;
            line-height: 1.6;
        }

        /* ===== AI ë¶„ì„ íŒ¨ë„ ===== */
        .ai-analysis-panel {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--text-white);
            border-radius: 16px;
            padding: var(--space-xl);
            margin-bottom: var(--space-xl);
            position: relative;
            overflow: hidden;
            display: none;
        }

        .ai-analysis-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.3;
        }

        .ai-analysis-header {
            display: flex;
            align-items: center;
            justify-content: between;
            margin-bottom: var(--space-lg);
            position: relative;
            z-index: 1;
        }

        .ai-analysis-title {
            font-size: 1.3rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .ai-insights {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-lg);
            position: relative;
            z-index: 1;
        }

        .ai-insight-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: var(--space-lg);
        }

        .insight-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: var(--space-sm);
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .insight-content {
            font-size: 0.95rem;
            line-height: 1.6;
            opacity: 0.9;
        }

        /* ===== ì°¨íŠ¸ ì»¨í…Œì´ë„ˆ ===== */
        .chart-container {
            background: var(--card-bg);
            border-radius: 12px;
            padding: var(--space-lg);
            margin: var(--space-lg) 0;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .chart-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: var(--space-lg);
            text-align: center;
        }

        .chart-wrapper {
            position: relative;
            height: 300px;
        }

        /* ===== ë‚´ë³´ë‚´ê¸° ì„¹ì…˜ ===== */
        .export-section {
            background: var(--border-light);
            border-radius: 12px;
            padding: var(--space-lg);
            margin-top: var(--space-xl);
            border: 2px dashed var(--border-color);
            text-align: center;
            display: none;
        }

        .export-section.active {
            display: block;
            animation: slideUp 0.3s ease-out;
        }

        .export-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: var(--space-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-sm);
        }

        .export-actions {
            display: flex;
            justify-content: center;
            gap: var(--space-md);
            flex-wrap: wrap;
        }

        /* ===== í”Œë¡œíŒ… ìš”ì†Œë“¤ ===== */
        .floating-help {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: var(--gradient-primary);
            color: var(--text-white);
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            transition: var(--transition-normal);
        }

        .floating-help:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-xl);
        }

        .status-message {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: var(--space-md) var(--space-lg);
            border-radius: 12px;
            color: var(--text-white);
            font-weight: 600;
            z-index: 1000;
            transform: translateX(400px);
            transition: var(--transition-normal);
            box-shadow: var(--shadow-lg);
            max-width: 300px;
        }

        .status-message.show {
            transform: translateX(0);
        }

        .status-message.success {
            background: var(--success-color);
        }

        .status-message.error {
            background: var(--danger-color);
        }

        .status-message.info {
            background: var(--info-color);
        }

        .status-message.warning {
            background: var(--warning-color);
        }

        /* ===== ë¡œë”© ì˜¤ë²„ë ˆì´ ===== */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--overlay-bg);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }

        .loading-overlay.active {
            display: flex;
        }

        .loading-content {
            background: var(--card-bg);
            border-radius: 16px;
            padding: var(--space-2xl);
            text-align: center;
            box-shadow: var(--shadow-xl);
            max-width: 400px;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid var(--border-color);
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto var(--space-lg);
        }

        .loading-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: var(--space-sm);
        }

        .loading-description {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        /* ===== ì• ë‹ˆë©”ì´ì…˜ ===== */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        @keyframes sparkle {
            0%, 100% { transform: translateY(-50%) scale(1) rotate(0deg); }
            50% { transform: translateY(-50%) scale(1.2) rotate(180deg); }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes countUp {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); color: var(--success-color); }
            100% { transform: scale(1); }
        }

        .count-animated {
            animation: countUp 0.6s ease-out;
        }

        /* ===== ë°˜ì‘í˜• ë””ìì¸ ===== */
        @media (max-width: 1024px) {
            .container {
                padding: var(--space-lg) var(--space-md);
            }

            .search-section {
                grid-template-columns: 1fr;
                gap: var(--space-md);
            }

            .filters-section {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }

            .ai-insights {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .header {
                padding: var(--space-xl) var(--space-md);
            }

            .header h1 {
                font-size: 2rem;
                flex-direction: column;
                gap: var(--space-sm);
            }

            .header .features {
                flex-direction: column;
                gap: var(--space-md);
            }

            .card {
                padding: var(--space-lg);
            }

            .filters-section {
                grid-template-columns: 1fr;
            }

            .stats-section {
                grid-template-columns: repeat(2, 1fr);
            }

            .result-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .result-actions {
                width: 100%;
            }

            .action-btn {
                flex: 1;
                justify-content: center;
            }

            .export-actions {
                flex-direction: column;
                align-items: center;
            }

            .floating-help {
                bottom: 15px;
                right: 15px;
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: var(--space-md);
            }

            .stats-section {
                grid-template-columns: 1fr;
            }

            .search-input {
                padding-left: 16px;
                font-size: 1rem;
            }

            .search-input-icon {
                display: none;
            }
        }

        /* ===== ì ‘ê·¼ì„± ê°œì„  ===== */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        @media (prefers-color-scheme: dark) {
            /* ë‹¤í¬ ëª¨ë“œ ì§€ì›ì„ ìœ„í•œ ì¶”ê°€ ìŠ¤íƒ€ì¼ (ì„ íƒì ) */
        }

        /* ===== ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ ===== */
        .hidden {
            display: none !important;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .text-center {
            text-align: center;
        }

        .mt-auto {
            margin-top: auto;
        }

        .mb-0 {
            margin-bottom: 0 !important;
        }

        /* ===== AI ì§„í–‰ë¥  íŒì—… ìŠ¤íƒ€ì¼ ===== */
        .ai-progress-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            animation: aiProgressSlideIn 0.3s ease-out;
        }

        .ai-progress-modal {
            background: var(--card-bg);
            border-radius: 20px;
            padding: var(--space-2xl);
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: var(--shadow-xl);
            position: relative;
        }

        .ai-progress-icon {
            font-size: 4rem;
            margin-bottom: var(--space-lg);
            animation: float 2s ease-in-out infinite;
        }

        .ai-progress-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-color);
            margin-bottom: var(--space-sm);
        }

        .ai-progress-subtitle {
            color: var(--text-secondary);
            margin-bottom: var(--space-xl);
            font-size: 0.95rem;
        }

        .ai-progress-bar-container {
            background: var(--border-color);
            height: 8px;
            border-radius: 4px;
            margin-bottom: var(--space-xl);
            overflow: hidden;
        }

        .ai-progress-bar {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: 4px;
            width: 0%;
            transition: width 0.3s ease;
        }

        .ai-progress-steps {
            text-align: left;
        }

        .ai-progress-step {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-sm) 0;
            color: var(--text-secondary);
            font-size: 0.9rem;
            opacity: 0.5;
            transition: all 0.3s ease;
        }

        .ai-progress-step.active {
            opacity: 1;
            color: var(--primary-color);
            font-weight: 600;
        }

        .ai-progress-step.completed {
            opacity: 0.8;
            color: var(--success-color);
        }

        .ai-progress-step-icon {
            font-size: 1.2rem;
            width: 24px;
            text-align: center;
        }

        @keyframes aiProgressSlideIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
</head>
<body>
    <!-- ìƒíƒœ ë©”ì‹œì§€ -->
    <div id="status-message" class="status-message"></div>
    
    <!-- ë¡œë”© ì˜¤ë²„ë ˆì´ -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-title" id="loading-title">AI ë¶„ì„ ì¤‘...</div>
            <div class="loading-description" id="loading-description">ê·¼ê±°ìë£Œë¥¼ ê²€ìƒ‰í•˜ê³  ìˆìŠµë‹ˆë‹¤</div>
        </div>
    </div>

    <!-- í—¤ë” -->
    <div class="header">
        <h1>
            <span class="material-symbols-outlined" style="font-size: inherit;">search</span>
            í† ë¡  ê·¼ê±°ìë£Œ ê²€ìƒ‰ ë„êµ¬
        </h1>
        <p class="subtitle">AI ê¸°ë°˜ ì‹ ë¢°ì„± ê²€ì¦ìœ¼ë¡œ ë”ìš± ì •í™•í•œ ê·¼ê±°ìë£Œë¥¼ ì°¾ì•„ë³´ì„¸ìš”</p>
        <div class="features">
            <div class="feature-badge">
                <span class="material-symbols-outlined">auto_awesome</span>
                AI ë¶„ì„
            </div>
            <div class="feature-badge">
                <span class="material-symbols-outlined">verified</span>
                ì‹ ë¢°ë„ ê²€ì¦
            </div>
            <div class="feature-badge">
                <span class="material-symbols-outlined">trending_up</span>
                ì‹¤ì‹œê°„ íŠ¸ë Œë“œ
            </div>
        </div>
    </div>

    <div class="container">
        <!-- ê²€ìƒ‰ ì„¹ì…˜ -->
        <div class="card">
            <div class="card-header">
                <div>
                    <h2 class="card-title">
                        <span class="material-symbols-outlined">manage_search</span>
                        ì§€ëŠ¥í˜• ìë£Œ ê²€ìƒ‰
                    </h2>
                    <p class="card-subtitle">í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ê³  AIê°€ ì¶”ì²œí•˜ëŠ” ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ê·¼ê±°ìë£Œë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
                </div>
            </div>

            <div class="search-container">
                <div class="search-section">
                    <div class="search-input-group">
                        <label for="searchInput">
                            <span class="material-symbols-outlined">search</span>
                            ê²€ìƒ‰ í‚¤ì›Œë“œ
                        </label>
                        <input type="text" 
                               class="search-input" 
                               id="searchInput" 
                               placeholder="í† ë¡  ì£¼ì œë‚˜ í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: í”Œë¼ìŠ¤í‹± í™˜ê²½ì˜¤ì—¼, AI ìœ¤ë¦¬, ê¸°ë³¸ì†Œë“)"
                               autocomplete="off">
                        <span class="search-input-icon material-symbols-outlined">search</span>
                    </div>
                    <button class="btn primary" onclick="searchEvidence()">
                        <span class="material-symbols-outlined">search</span>
                        ê²€ìƒ‰í•˜ê¸°
                    </button>
                    <button class="btn ai-powered" onclick="aiAnalyzeKeyword()">
                        <span class="material-symbols-outlined">psychology</span>
                        AI ë¶„ì„
                    </button>
                </div>

                <div class="filters-section">
                    <div class="filter-group">
                        <label class="filter-label">
                            <span class="material-symbols-outlined">category</span>
                            ìë£Œ ìœ í˜•
                        </label>
                        <select class="filter-select" id="sourceType">
                            <option value="all">ì „ì²´ ìœ í˜•</option>
                            <option value="news">ë‰´ìŠ¤ ê¸°ì‚¬</option>
                            <option value="academic">í•™ìˆ  ìë£Œ</option>
                            <option value="government">ì •ë¶€ ë°œí‘œ</option>
                            <option value="statistics">í†µê³„ ìë£Œ</option>
                            <option value="research">ì—°êµ¬ ë³´ê³ ì„œ</option>
                            <option value="international">êµ­ì œê¸°êµ¬ ìë£Œ</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label class="filter-label">
                            <span class="material-symbols-outlined">schedule</span>
                            ë°œí–‰ ê¸°ê°„
                        </label>
                        <select class="filter-select" id="timePeriod">
                            <option value="all">ì „ì²´ ê¸°ê°„</option>
                            <option value="recent">ìµœê·¼ 1ê°œì›”</option>
                            <option value="quarter">ìµœê·¼ 3ê°œì›”</option>
                            <option value="year">ìµœê·¼ 1ë…„</option>
                            <option value="custom">ì§ì ‘ ì„¤ì •</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label class="filter-label">
                            <span class="material-symbols-outlined">balance</span>
                            ê´€ì  ë¶„ì„
                        </label>
                        <select class="filter-select" id="perspective">
                            <option value="balanced">ê· í˜•ì¡íŒ ì‹œê°</option>
                            <option value="pro">ì°¬ì„± ê´€ì </option>
                            <option value="con">ë°˜ëŒ€ ê´€ì </option>
                            <option value="neutral">ì¤‘ë¦½ì  ë¶„ì„</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label class="filter-label">
                            <span class="material-symbols-outlined">verified</span>
                            ì‹ ë¢°ë„ ìˆ˜ì¤€
                        </label>
                        <select class="filter-select" id="reliability">
                            <option value="all">ì „ì²´</option>
                            <option value="high">ë†’ìŒ (90% ì´ìƒ)</option>
                            <option value="verified">ê²€ì¦ëœ ìë£Œë§Œ</option>
                            <option value="premium">í”„ë¦¬ë¯¸ì—„ ì†ŒìŠ¤</option>
                        </select>
                    </div>
                </div>

                <div class="advanced-filters" id="advancedFilters">
                    <div class="filters-section">
                        <div class="filter-group">
                            <label class="filter-label">ì–¸ì–´</label>
                            <select class="filter-select" id="language">
                                <option value="ko">í•œêµ­ì–´</option>
                                <option value="en">ì˜ì–´</option>
                                <option value="all">ì „ì²´</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label class="filter-label">ì •ë ¬ ê¸°ì¤€</label>
                            <select class="filter-select" id="sortBy">
                                <option value="relevance">ê´€ë ¨ì„±</option>
                                <option value="date">ìµœì‹ ìˆœ</option>
                                <option value="reliability">ì‹ ë¢°ë„</option>
                                <option value="citations">ì¸ìš©íšŸìˆ˜</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="text-center">
                    <button class="btn secondary" onclick="toggleAdvancedFilters()">
                        <span class="material-symbols-outlined">tune</span>
                        ê³ ê¸‰ í•„í„°
                    </button>
                    <button class="btn secondary" onclick="resetFilters()">
                        <span class="material-symbols-outlined">refresh</span>
                        ì´ˆê¸°í™”
                    </button>
                </div>
            </div>
        </div>

        <!-- AI ë¶„ì„ íŒ¨ë„ -->
        <div class="ai-analysis-panel" id="aiAnalysisPanel">
            <div class="ai-analysis-header">
                <div class="ai-analysis-title">
                    <span class="material-symbols-outlined">psychology</span>
                    AI í‚¤ì›Œë“œ ë¶„ì„ ê²°ê³¼
                </div>
                <button class="btn secondary" onclick="hideAIAnalysis()" style="padding: 8px 12px;">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            
            <div class="ai-insights" id="aiInsights">
                <!-- AI ë¶„ì„ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>
        </div>

        <!-- ê²€ìƒ‰ í†µê³„ -->
        <div class="card">
            <div class="stats-section" id="statsSection" style="display: none;">
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“„</div>
                    <span class="stat-number" id="totalResults">0</span>
                    <div class="stat-label">ì´ ê²€ìƒ‰ ê²°ê³¼</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“°</div>
                    <span class="stat-number" id="newsCount">0</span>
                    <div class="stat-label">ë‰´ìŠ¤ ê¸°ì‚¬</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“</div>
                    <span class="stat-number" id="academicCount">0</span>
                    <div class="stat-label">í•™ìˆ  ìë£Œ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ›ï¸</div>
                    <span class="stat-number" id="governmentCount">0</span>
                    <div class="stat-label">ì •ë¶€ ìë£Œ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“Š</div>
                    <span class="stat-number" id="reliabilityAvg">0</span>
                    <div class="stat-label">í‰ê·  ì‹ ë¢°ë„</div>
                </div>
            </div>

            <!-- ì°¨íŠ¸ ì„¹ì…˜ -->
            <div class="chart-container" id="chartContainer" style="display: none;">
                <h3 class="chart-title">ìë£Œ ìœ í˜•ë³„ ë¶„í¬</h3>
                <div class="chart-wrapper">
                    <canvas id="distributionChart"></canvas>
                </div>
            </div>
        </div>

        <!-- ê²€ìƒ‰ ê²°ê³¼ -->
        <div class="card">
            <div class="card-header" id="resultsHeader" style="display: none;">
                <div>
                    <h2 class="card-title">
                        <span class="material-symbols-outlined">list_alt</span>
                        ê²€ìƒ‰ ê²°ê³¼
                    </h2>
                    <p class="card-subtitle" id="resultsSubtitle">ê²€ìƒ‰ëœ ê·¼ê±°ìë£Œ ëª©ë¡</p>
                </div>
                <div class="sort-controls">
                    <span class="sort-label">ì •ë ¬:</span>
                    <select class="sort-select" id="sortResults" onchange="sortResults()">
                        <option value="relevance">ê´€ë ¨ì„±</option>
                        <option value="date">ìµœì‹ ìˆœ</option>
                        <option value="reliability">ì‹ ë¢°ë„</option>
                        <option value="title">ì œëª©ìˆœ</option>
                    </select>
                </div>
            </div>

            <div class="results-section" id="resultsSection">
                <div class="empty-state" id="emptyState">
                    <div class="state-icon">ğŸ”</div>
                    <h3 class="state-title">ê²€ìƒ‰ì„ ì‹œì‘í•´ë³´ì„¸ìš”</h3>
                    <p class="state-description">
                        í† ë¡  ì£¼ì œë‚˜ í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì—¬ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ê·¼ê±°ìë£Œë¥¼ ì°¾ì•„ë³´ì„¸ìš”.<br>
                        AI ë¶„ì„ ê¸°ëŠ¥ìœ¼ë¡œ ë”ìš± ì •í™•í•œ ìë£Œë¥¼ ì¶”ì²œë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                </div>
            </div>

            <!-- ë‚´ë³´ë‚´ê¸° ì„¹ì…˜ -->
            <div class="export-section" id="exportSection">
                <h3 class="export-title">
                    <span class="material-symbols-outlined">download</span>
                    ê²€ìƒ‰ ê²°ê³¼ ë‚´ë³´ë‚´ê¸°
                </h3>
                <div class="export-actions">
                    <button class="btn primary" onclick="exportResults('word')">
                        <span class="material-symbols-outlined">description</span>
                        ì›Œë“œë¡œ ë‚´ë³´ë‚´ê¸°
                    </button>
                    <button class="btn primary" onclick="exportResults('pdf')">
                        <span class="material-symbols-outlined">picture_as_pdf</span>
                        PDFë¡œ ë‚´ë³´ë‚´ê¸°
                    </button>
                    <button class="btn secondary" onclick="printResults()">
                        <span class="material-symbols-outlined">print</span>
                        ì¸ì‡„í•˜ê¸°
                    </button>
                    <button class="btn secondary" onclick="shareResults()">
                        <span class="material-symbols-outlined">share</span>
                        ê³µìœ í•˜ê¸°
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- í”Œë¡œíŒ… ë„ì›€ë§ ë²„íŠ¼ -->
    <button class="floating-help" onclick="showHelp()" title="ì‚¬ìš©ì ë§¤ë‰´ì–¼ ë° ë„ì›€ë§">
        <span class="material-symbols-outlined">help</span>
    </button>

    <script>
        // ===== ì „ì—­ ë³€ìˆ˜ =====
        let searchResults = [];
        let currentSearchTerm = '';
        let currentFilters = {};
        let chartInstance = null;

        // ===== ì´ˆê¸°í™” =====
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            loadSampleData();
        });

        function initializeEventListeners() {
            // ì—”í„°í‚¤ë¡œ ê²€ìƒ‰ ì‹¤í–‰
            document.getElementById('searchInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchEvidence();
                }
            });

            // ê²€ìƒ‰ì–´ ìë™ì™„ì„±
            document.getElementById('searchInput').addEventListener('input', handleSearchInputChange);
            
            // í•„í„° ë³€ê²½ ê°ì§€
            const filterElements = ['sourceType', 'timePeriod', 'perspective', 'reliability'];
            filterElements.forEach(id => {
                document.getElementById(id).addEventListener('change', onFilterChange);
            });
        }

        function loadSampleData() {
            // ìƒ˜í”Œ ë°ì´í„° ë¡œë“œ (ì‹¤ì œ êµ¬í˜„ì‹œì—ëŠ” ì œê±°)
            console.log('ğŸ“š í† ë¡  ê·¼ê±°ìë£Œ ê²€ìƒ‰ ë„êµ¬ ì´ˆê¸°í™” ì™„ë£Œ');
        }

        // ===== ê²€ìƒ‰ ê¸°ëŠ¥ =====
        async function searchEvidence() {
            const searchTerm = document.getElementById('searchInput').value.trim();
            
            if (!searchTerm) {
                showStatus('ê²€ìƒ‰í•  í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
                document.getElementById('searchInput').focus();
                return;
            }

            currentSearchTerm = searchTerm;
            updateCurrentFilters();
            
            showLoading('ê·¼ê±°ìë£Œ ê²€ìƒ‰ ì¤‘...', 'AIê°€ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ìë£Œë¥¼ ì°¾ê³  ìˆìŠµë‹ˆë‹¤');
            
            try {
                // AI ê¸°ë°˜ ê²€ìƒ‰ ì‹œë®¬ë ˆì´ì…˜
                const results = await performAISearch(searchTerm, currentFilters);
                displayResults(results);
                updateStats(results);
                showStats();
                showExportSection();
                showStatus(`${results.length}ê°œì˜ ê·¼ê±°ìë£Œë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤!`, 'success');
            } catch (error) {
                console.error('ê²€ìƒ‰ ì˜¤ë¥˜:', error);
                showErrorState('ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                showStatus('ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            } finally {
                hideLoading();
            }
        }

        async function performAISearch(searchTerm, filters) {
            // AI ê²€ìƒ‰ ì‹œë®¬ë ˆì´ì…˜ (ì‹¤ì œë¡œëŠ” ë°±ì—”ë“œ API í˜¸ì¶œ)
            return new Promise((resolve) => {
                setTimeout(() => {
                    const mockResults = generateAdvancedMockResults(searchTerm, filters);
                    resolve(mockResults);
                }, 2000);
            });
        }

        function generateAdvancedMockResults(searchTerm, filters) {
            const baseResults = [
                {
                    id: 1,
                    title: `${searchTerm} ì •ì±… í˜„í™©ê³¼ ê³¼ì œ: 2024 êµ­ì •ê°ì‚¬ ìë£Œì§‘`,
                    source: 'êµ­ì •ê°ì‚¬ ìë£Œ',
                    type: 'government',
                    summary: `${searchTerm} ê´€ë ¨ ì •ë¶€ ì •ì±…ì˜ í˜„í™©ê³¼ í–¥í›„ ê³¼ì œë¥¼ ì¢…í•©ì ìœ¼ë¡œ ë¶„ì„í•œ êµ­ì •ê°ì‚¬ ìë£Œì…ë‹ˆë‹¤. êµ¬ì²´ì ì¸ ì˜ˆì‚° í˜„í™©, ì„±ê³¼ ì§€í‘œ, ê°œì„  ë°©ì•ˆ ë“±ì´ ìƒì„¸íˆ ê¸°ë¡ë˜ì–´ ìˆì–´ í† ë¡ ì˜ íŒ©íŠ¸ ì²´í¬ì— ìœ ìš©í•©ë‹ˆë‹¤.`,
                    reliability: 95,
                    reliabilityLevel: 'high',
                    date: '2024-11-15',
                    dateFormatted: '2024ë…„ 11ì›” 15ì¼',
                    tags: ['ì •ë¶€ì •ì±…', 'êµ­ì •ê°ì‚¬', 'ê³µì‹ìë£Œ', 'ì˜ˆì‚°ë¶„ì„'],
                    url: 'https://example.gov.kr/audit-2024',
                    citations: 127,
                    readTime: '15ë¶„',
                    pageCount: 45,
                    language: 'ko',
                    author: 'êµ­ì •ê°ì‚¬ìœ„ì›íšŒ',
                    institution: 'êµ­íšŒ',
                    abstract: `ë³¸ ìë£ŒëŠ” ${searchTerm} ì •ì±…ì˜ ì „ë°˜ì ì¸ í˜„í™©ì„ ì ê²€í•˜ê³  í–¥í›„ ë°œì „ ë°©í–¥ì„ ì œì‹œí•©ë‹ˆë‹¤.`
                },
                {
                    id: 2,
                    title: `${searchTerm} ì‹¤íƒœì¡°ì‚¬ ë° ì •ì±… ê°œì„ ë°©ì•ˆ ì—°êµ¬`,
                    source: 'í•œêµ­ì •ì±…ì—°êµ¬ì›',
                    type: 'research',
                    summary: `ì „êµ­ ê·œëª¨ì˜ ì‹¤íƒœì¡°ì‚¬ë¥¼ ë°”íƒ•ìœ¼ë¡œ ${searchTerm}ì˜ í˜„í™©ì„ ê°ê´€ì ìœ¼ë¡œ ë¶„ì„í•˜ê³  ì •ì±… ê°œì„ ë°©ì•ˆì„ ì œì‹œí•œ ì—°êµ¬ë³´ê³ ì„œì…ë‹ˆë‹¤. ì •ëŸ‰ì  ë°ì´í„°ì™€ ì§ˆì  ë¶„ì„ì´ ê· í˜•ìˆê²Œ ì œì‹œë˜ì–´ ìˆì–´ ê·¼ê±°ìë£Œë¡œ í™œìš©í•˜ê¸°ì— ì í•©í•©ë‹ˆë‹¤.`,
                    reliability: 88,
                    reliabilityLevel: 'high',
                    date: '2024-10-20',
                    dateFormatted: '2024ë…„ 10ì›” 20ì¼',
                    tags: ['ì‹¤íƒœì¡°ì‚¬', 'ì •ì±…ì—°êµ¬', 'í†µê³„ë¶„ì„', 'ê°œì„ ë°©ì•ˆ'],
                    url: 'https://kpi.re.kr/research-2024',
                    citations: 94,
                    readTime: '25ë¶„',
                    pageCount: 78,
                    language: 'ko',
                    author: 'ê¹€ì •ë¯¼ ë°•ì‚¬',
                    institution: 'í•œêµ­ì •ì±…ì—°êµ¬ì›',
                    abstract: `${searchTerm}ì— ëŒ€í•œ ì¢…í•©ì  ì‹¤íƒœì¡°ì‚¬ë¥¼ í†µí•´ í˜„ ìƒí™©ì„ ì§„ë‹¨í•˜ê³  ê°œì„ ë°©ì•ˆì„ ë„ì¶œí•©ë‹ˆë‹¤.`
                },
                {
                    id: 3,
                    title: `"${searchTerm}" ì „ë¬¸ê°€ ì¢Œë‹´íšŒ: ìŸì ê³¼ ì „ë§`,
                    source: 'í•œêµ­ì–¸ë¡ í•™íšŒë³´',
                    type: 'academic',
                    summary: `${searchTerm} ë¶„ì•¼ì˜ êµ­ë‚´ì™¸ ì „ë¬¸ê°€ë“¤ì´ ì°¸ì—¬í•œ ì¢Œë‹´íšŒ ë‚´ìš©ì„ ì •ë¦¬í•œ í•™ìˆ  ìë£Œì…ë‹ˆë‹¤. ë‹¤ì–‘í•œ ê´€ì ì—ì„œì˜ ì‹¬ë„ìˆëŠ” ë…¼ì˜ì™€ í–¥í›„ ì „ë§ì— ëŒ€í•œ ì „ë¬¸ê°€ ì˜ê²¬ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`,
                    reliability: 82,
                    reliabilityLevel: 'high',
                    date: '2024-12-01',
                    dateFormatted: '2024ë…„ 12ì›” 1ì¼',
                    tags: ['ì „ë¬¸ê°€ì˜ê²¬', 'í•™ìˆ ìë£Œ', 'ì¢Œë‹´íšŒ', 'ì „ë§ë¶„ì„'],
                    url: 'https://kprs.or.kr/journal-2024-12',
                    citations: 56,
                    readTime: '12ë¶„',
                    pageCount: 28,
                    language: 'ko',
                    author: 'í¸ì§‘ìœ„ì›íšŒ',
                    institution: 'í•œêµ­ì–¸ë¡ í•™íšŒ',
                    abstract: `${searchTerm} ê´€ë ¨ ì£¼ìš” ìŸì ë“¤ì„ ì „ë¬¸ê°€ ê´€ì ì—ì„œ ë¶„ì„í•˜ê³  ë¯¸ë˜ ì „ë§ì„ ì œì‹œí•©ë‹ˆë‹¤.`
                },
                {
                    id: 4,
                    title: `Global Trends in ${searchTerm}: International Comparative Study`,
                    source: 'International Policy Journal',
                    type: 'international',
                    summary: `${searchTerm} ê´€ë ¨ ì£¼ìš” ì„ ì§„êµ­ì˜ ì •ì±…ê³¼ ì„±ê³¼ë¥¼ ë¹„êµ ë¶„ì„í•œ êµ­ì œì  ì—°êµ¬ìë£Œì…ë‹ˆë‹¤. ê°êµ­ì˜ ëª¨ë²”ì‚¬ë¡€ì™€ ì‹œì‚¬ì ì„ ë„ì¶œí•˜ì—¬ ìš°ë¦¬ë‚˜ë¼ ìƒí™©ì— ì ìš© ê°€ëŠ¥í•œ ë°©ì•ˆì„ ëª¨ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`,
                    reliability: 91,
                    reliabilityLevel: 'high',
                    date: '2024-09-30',
                    dateFormatted: '2024ë…„ 9ì›” 30ì¼',
                    tags: ['êµ­ì œë¹„êµ', 'í•´ì™¸ì‚¬ë¡€', 'ëª¨ë²”ì‚¬ë¡€', 'ì •ì±…ì‹œì‚¬ì '],
                    url: 'https://ipj.org/study-2024-09',
                    citations: 203,
                    readTime: '30ë¶„',
                    pageCount: 95,
                    language: 'en',
                    author: 'Dr. Sarah Johnson et al.',
                    institution: 'International Policy Institute',
                    abstract: `Comprehensive analysis of ${searchTerm} policies across major developed countries with policy implications.`
                },
                {
                    id: 5,
                    title: `${searchTerm} í†µê³„ì²­ ê³µì‹ í†µê³„ ë° ë™í–¥ ë¶„ì„`,
                    source: 'êµ­ê°€í†µê³„í¬í„¸(KOSIS)',
                    type: 'statistics',
                    summary: `í†µê³„ì²­ì—ì„œ ë°œí‘œí•œ ${searchTerm} ê´€ë ¨ ìµœì‹  ê³µì‹ í†µê³„ìë£Œì…ë‹ˆë‹¤. ì—°ë„ë³„ ë³€í™” ì¶”ì´, ì§€ì—­ë³„ í˜„í™©, ì¸êµ¬í•™ì  íŠ¹ì„±ë³„ ë¶„ì„ ë“± ë‹¤ê°ë„ì˜ í†µê³„ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.`,
                    reliability: 98,
                    reliabilityLevel: 'high',
                    date: '2024-12-10',
                    dateFormatted: '2024ë…„ 12ì›” 10ì¼',
                    tags: ['ê³µì‹í†µê³„', 'KOSIS', 'ë™í–¥ë¶„ì„', 'ì§€ì—­ë³„í˜„í™©'],
                    url: 'https://kosis.kr/statHtml/2024',
                    citations: 389,
                    readTime: '8ë¶„',
                    pageCount: 15,
                    language: 'ko',
                    author: 'í†µê³„ì²­',
                    institution: 'í†µê³„ì²­',
                    abstract: `${searchTerm}ì— ëŒ€í•œ êµ­ê°€ ê³µì‹ í†µê³„ì™€ ìµœì‹  ë™í–¥ì„ ì¢…í•©ì ìœ¼ë¡œ ì œì‹œí•©ë‹ˆë‹¤.`
                },
                {
                    id: 6,
                    title: `${searchTerm} ì‹œë¯¼ì‚¬íšŒ ì¸ì‹ì¡°ì‚¬ ë³´ê³ ì„œ`,
                    source: 'ì‹œë¯¼ì‚¬íšŒì—°êµ¬ì†Œ',
                    type: 'research',
                    summary: `${searchTerm}ì— ëŒ€í•œ ì‹œë¯¼ë“¤ì˜ ì¸ì‹ê³¼ ì˜ê²¬ì„ ì¡°ì‚¬í•œ ì—¬ë¡ ì¡°ì‚¬ ë³´ê³ ì„œì…ë‹ˆë‹¤. ì—°ë ¹ë³„, ì§€ì—­ë³„, ì§ì—…ë³„ ì¸ì‹ ì°¨ì´ë¥¼ ë¶„ì„í•˜ì—¬ ì‚¬íšŒì  í•©ì˜ì  ë„ì¶œì„ ìœ„í•œ ì‹œì‚¬ì ì„ ì œê³µí•©ë‹ˆë‹¤.`,
                    reliability: 76,
                    reliabilityLevel: 'medium',
                    date: '2024-11-28',
                    dateFormatted: '2024ë…„ 11ì›” 28ì¼',
                    tags: ['ì—¬ë¡ ì¡°ì‚¬', 'ì‹œë¯¼ì¸ì‹', 'ì‚¬íšŒì¡°ì‚¬', 'ì˜ê²¬ìˆ˜ë ´'],
                    url: 'https://civilsociety.kr/survey-2024',
                    citations: 42,
                    readTime: '18ë¶„',
                    pageCount: 52,
                    language: 'ko',
                    author: 'ì´ë¯¼ìˆ˜ ì—°êµ¬ìœ„ì›',
                    institution: 'ì‹œë¯¼ì‚¬íšŒì—°êµ¬ì†Œ',
                    abstract: `${searchTerm}ì— ëŒ€í•œ ë‹¤ì–‘í•œ ì‹œë¯¼ ê³„ì¸µì˜ ì¸ì‹ê³¼ íƒœë„ë¥¼ ì¡°ì‚¬í•˜ê³  ë¶„ì„í•©ë‹ˆë‹¤.`
                }
            ];

            // í•„í„°ë§ ì ìš©
            let filteredResults = baseResults;
            
            if (filters.sourceType !== 'all') {
                filteredResults = filteredResults.filter(result => result.type === filters.sourceType);
            }

            if (filters.reliability === 'high' || filters.reliability === 'verified') {
                filteredResults = filteredResults.filter(result => result.reliability >= 85);
            } else if (filters.reliability === 'premium') {
                filteredResults = filteredResults.filter(result => result.reliability >= 90);
            }

            if (filters.language && filters.language !== 'all') {
                filteredResults = filteredResults.filter(result => result.language === filters.language);
            }

            // ì •ë ¬ ì ìš©
            if (filters.sortBy) {
                filteredResults = sortResultsData(filteredResults, filters.sortBy);
            }

            return filteredResults;
        }

        // ===== AI í‚¤ì›Œë“œ ë¶„ì„ =====
        async function aiAnalyzeKeyword() {
            const searchTerm = document.getElementById('searchInput').value.trim();
            
            if (!searchTerm) {
                showStatus('ë¶„ì„í•  í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
                document.getElementById('searchInput').focus();
                return;
            }

            showAIProgress('evidence-search');
            
            try {
                const analysis = await performAIAnalysis(searchTerm);
                displayAIAnalysis(analysis);
                showStatus('AI í‚¤ì›Œë“œ ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
            } catch (error) {
                console.error('AI ë¶„ì„ ì˜¤ë¥˜:', error);
                showStatus('AI ë¶„ì„ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            } finally {
                hideAIProgress();
            }
        }

        async function performAIAnalysis(keyword) {
            // AI ë¶„ì„ ì‹œë®¬ë ˆì´ì…˜
            return new Promise((resolve) => {
                setTimeout(() => {
                    const analysis = {
                        keyword: keyword,
                        summary: `"${keyword}"ëŠ” í˜„ì¬ ì‚¬íšŒì ìœ¼ë¡œ ì¤‘ìš”í•œ ì´ìŠˆë¡œ ë‹¤ì–‘í•œ ê´€ì ì—ì„œ ë…¼ì˜ë˜ê³  ìˆëŠ” ì£¼ì œì…ë‹ˆë‹¤.`,
                        insights: [
                            {
                                title: 'í•µì‹¬ ìŸì  ë¶„ì„',
                                icon: 'ğŸ¯',
                                content: `${keyword}ì˜ ì£¼ìš” ìŸì ì€ ì •ì±…ì  íš¨ê³¼ì„±, ì‚¬íšŒì  í˜•í‰ì„±, ê²½ì œì  íŒŒê¸‰íš¨ê³¼ ë“±ìœ¼ë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤. íŠ¹íˆ ì°¬ë°˜ ë…¼ë¦¬ê°€ ì²¨ì˜ˆí•˜ê²Œ ëŒ€ë¦½í•˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤.`
                            },
                            {
                                title: 'ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ìë£Œ ì†ŒìŠ¤',
                                icon: 'ğŸ”',
                                content: 'ì •ë¶€ ê³µì‹ í†µê³„, êµ­ì •ê°ì‚¬ ìë£Œ, í•™ìˆ  ì—°êµ¬ë…¼ë¬¸, êµ­ì œê¸°êµ¬ ë³´ê³ ì„œ ë“±ì´ ê°€ì¥ ì‹ ë¢°ë„ ë†’ì€ ê·¼ê±°ìë£Œë¡œ í™œìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.'
                            },
                            {
                                title: 'í† ë¡  í™œìš© íŒ',
                                icon: 'ğŸ’¡',
                                content: 'ê°ê´€ì  ë°ì´í„°ì™€ ì „ë¬¸ê°€ ì˜ê²¬ì„ ê· í˜•ìˆê²Œ í™œìš©í•˜ê³ , ë°˜ëŒ€ ë…¼ë¦¬ì— ëŒ€í•œ ë°˜ë°• ê·¼ê±°ë„ í•¨ê»˜ ì¤€ë¹„í•˜ëŠ” ê²ƒì´ íš¨ê³¼ì ì…ë‹ˆë‹¤.'
                            }
                        ]
                    };
                    resolve(analysis);
                }, 3000);
            });
        }

        function displayAIAnalysis(analysis) {
            const panel = document.getElementById('aiAnalysisPanel');
            const insights = document.getElementById('aiInsights');
            
            insights.innerHTML = analysis.insights.map(insight => `
                <div class="ai-insight-card">
                    <div class="insight-title">
                        <span>${insight.icon}</span>
                        ${insight.title}
                    </div>
                    <div class="insight-content">${insight.content}</div>
                </div>
            `).join('');
            
            panel.style.display = 'block';
            panel.scrollIntoView({ behavior: 'smooth' });
        }

        function hideAIAnalysis() {
            document.getElementById('aiAnalysisPanel').style.display = 'none';
        }

        // ===== ê²°ê³¼ í‘œì‹œ =====
        function displayResults(results) {
            searchResults = results;
            const resultsSection = document.getElementById('resultsSection');
            const resultsHeader = document.getElementById('resultsHeader');
            const resultsSubtitle = document.getElementById('resultsSubtitle');
            
            if (results.length === 0) {
                showEmptyState();
                return;
            }

            resultsHeader.style.display = 'flex';
            resultsSubtitle.textContent = `"${currentSearchTerm}" ê²€ìƒ‰ ê²°ê³¼ ${results.length}ê°œ`;
            
            const resultsHTML = results.map(result => createResultItemHTML(result)).join('');
            resultsSection.innerHTML = resultsHTML;
        }

        function createResultItemHTML(result) {
            const reliabilityColor = result.reliabilityLevel === 'high' ? 'high' : 
                                   result.reliability >= 70 ? 'medium' : 'low';
            
            return `
                <div class="result-item" data-id="${result.id}">
                    <div class="result-header">
                        <div>
                            <div class="result-title" onclick="viewSource(${result.id})">${result.title}</div>
                            <div class="result-source">
                                <span class="source-badge">${result.source}</span>
                                <span class="reliability-badge ${reliabilityColor}">ì‹ ë¢°ë„ ${result.reliability}%</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="result-summary">${result.summary}</div>
                    
                    <div class="result-meta">
                        <div class="meta-item">
                            <span class="material-symbols-outlined">schedule</span>
                            ${result.dateFormatted}
                        </div>
                        <div class="meta-item">
                            <span class="material-symbols-outlined">format_quote</span>
                            ì¸ìš© ${result.citations}íšŒ
                        </div>
                        <div class="meta-item">
                            <span class="material-symbols-outlined">schedule</span>
                            ì½ê¸° ${result.readTime}
                        </div>
                        <div class="meta-item">
                            <span class="material-symbols-outlined">article</span>
                            ${result.pageCount}í˜ì´ì§€
                        </div>
                        <div class="result-tags">
                            ${result.tags.map(tag => `<span class="result-tag">${tag}</span>`).join('')}
                        </div>
                    </div>
                    
                    <div class="result-actions">
                        <button class="action-btn primary" onclick="viewSource(${result.id})">
                            <span class="material-symbols-outlined">open_in_new</span>
                            ìë£Œ ë³´ê¸°
                        </button>
                        <button class="action-btn secondary" onclick="saveEvidence(${result.id})">
                            <span class="material-symbols-outlined">bookmark</span>
                            ì €ì¥í•˜ê¸°
                        </button>
                        <button class="action-btn outline" onclick="citationFormat(${result.id})">
                            <span class="material-symbols-outlined">format_quote</span>
                            ì¸ìš©í˜•ì‹
                        </button>
                        <button class="action-btn outline" onclick="analyzeCredibility(${result.id})">
                            <span class="material-symbols-outlined">fact_check</span>
                            ì‹ ë¢°ë„ ë¶„ì„
                        </button>
                    </div>
                </div>
            `;
        }

        function showEmptyState() {
            const resultsSection = document.getElementById('resultsSection');
            resultsSection.innerHTML = `
                <div class="empty-state">
                    <div class="state-icon">ğŸ”</div>
                    <h3 class="state-title">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
                    <p class="state-description">
                        ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ ë‹¤ì‹œ ê²€ìƒ‰í•´ë³´ê±°ë‚˜ í•„í„° ì¡°ê±´ì„ ë³€ê²½í•´ì£¼ì„¸ìš”.<br>
                        AI í‚¤ì›Œë“œ ë¶„ì„ì„ í†µí•´ ë” ì ì ˆí•œ ê²€ìƒ‰ì–´ë¥¼ ì°¾ì•„ë³´ì„¸ìš”.
                    </p>
                </div>
            `;
            
            document.getElementById('resultsHeader').style.display = 'none';
        }

        function showErrorState(message) {
            const resultsSection = document.getElementById('resultsSection');
            resultsSection.innerHTML = `
                <div class="error-state">
                    <div class="state-icon">âš ï¸</div>
                    <h3 class="state-title">ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤</h3>
                    <p class="state-description">${message}</p>
                </div>
            `;
        }

        // ===== í†µê³„ ë° ì°¨íŠ¸ =====
        function updateStats(results) {
            const stats = calculateStats(results);
            
            document.getElementById('totalResults').textContent = stats.total;
            document.getElementById('newsCount').textContent = stats.news;
            document.getElementById('academicCount').textContent = stats.academic;
            document.getElementById('governmentCount').textContent = stats.government;
            document.getElementById('reliabilityAvg').textContent = stats.avgReliability + '%';
            
            // ìˆ«ì ì¹´ìš´íŠ¸ì—… ì• ë‹ˆë©”ì´ì…˜
            animateNumbers();
            
            // ì°¨íŠ¸ ì—…ë°ì´íŠ¸
            updateChart(stats);
        }

        function calculateStats(results) {
            const stats = {
                total: results.length,
                news: results.filter(r => r.type === 'news').length,
                academic: results.filter(r => r.type === 'academic').length,
                government: results.filter(r => r.type === 'government').length,
                research: results.filter(r => r.type === 'research').length,
                statistics: results.filter(r => r.type === 'statistics').length,
                international: results.filter(r => r.type === 'international').length,
                avgReliability: Math.round(results.reduce((sum, r) => sum + r.reliability, 0) / results.length)
            };
            
            return stats;
        }

        function animateNumbers() {
            const numbers = document.querySelectorAll('.stat-number');
            numbers.forEach(num => {
                num.classList.add('count-animated');
                setTimeout(() => num.classList.remove('count-animated'), 600);
            });
        }

        function updateChart(stats) {
            const chartContainer = document.getElementById('chartContainer');
            chartContainer.style.display = 'block';
            
            const ctx = document.getElementById('distributionChart').getContext('2d');
            
            if (chartInstance) {
                chartInstance.destroy();
            }
            
            chartInstance = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['ë‰´ìŠ¤', 'í•™ìˆ ìë£Œ', 'ì •ë¶€ìë£Œ', 'ì—°êµ¬ë³´ê³ ì„œ', 'í†µê³„ìë£Œ', 'êµ­ì œê¸°êµ¬'],
                    datasets: [{
                        data: [
                            stats.news, 
                            stats.academic, 
                            stats.government, 
                            stats.research, 
                            stats.statistics, 
                            stats.international
                        ],
                        backgroundColor: [
                            '#3b82f6',
                            '#059669',
                            '#f59e0b',
                            '#ef4444',
                            '#8b5cf6',
                            '#06b6d4'
                        ],
                        borderWidth: 2,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                padding: 20,
                                usePointStyle: true,
                                font: {
                                    family: 'Pretendard'
                                }
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleColor: '#ffffff',
                            bodyColor: '#ffffff',
                            borderColor: '#059669',
                            borderWidth: 1
                        }
                    }
                }
            });
        }

        function showStats() {
            document.getElementById('statsSection').style.display = 'grid';
        }

        // ===== í•„í„° ê´€ë¦¬ =====
        function updateCurrentFilters() {
            currentFilters = {
                sourceType: document.getElementById('sourceType').value,
                timePeriod: document.getElementById('timePeriod').value,
                perspective: document.getElementById('perspective').value,
                reliability: document.getElementById('reliability').value,
                language: document.getElementById('language')?.value || 'ko',
                sortBy: document.getElementById('sortBy')?.value || 'relevance'
            };
        }

        function onFilterChange() {
            if (searchResults.length > 0) {
                // ì‹¤ì‹œê°„ í•„í„°ë§ ì ìš©
                updateCurrentFilters();
                const filteredResults = applyFilters(searchResults, currentFilters);
                displayResults(filteredResults);
                updateStats(filteredResults);
            }
        }

        function applyFilters(results, filters) {
            let filtered = [...results];
            
            if (filters.sourceType !== 'all') {
                filtered = filtered.filter(result => result.type === filters.sourceType);
            }
            
            if (filters.reliability === 'high') {
                filtered = filtered.filter(result => result.reliability >= 85);
            } else if (filters.reliability === 'verified') {
                filtered = filtered.filter(result => result.reliability >= 90);
            }
            
            return sortResultsData(filtered, filters.sortBy);
        }

        function toggleAdvancedFilters() {
            const advanced = document.getElementById('advancedFilters');
            advanced.classList.toggle('active');
        }

        function resetFilters() {
            document.getElementById('sourceType').value = 'all';
            document.getElementById('timePeriod').value = 'all';
            document.getElementById('perspective').value = 'balanced';
            document.getElementById('reliability').value = 'all';
            
            if (searchResults.length > 0) {
                onFilterChange();
            }
            
            showStatus('í•„í„°ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
        }

        // ===== ì •ë ¬ ê¸°ëŠ¥ =====
        function sortResults() {
            const sortBy = document.getElementById('sortResults').value;
            const sorted = sortResultsData(searchResults, sortBy);
            displayResults(sorted);
        }

        function sortResultsData(results, sortBy) {
            const sorted = [...results];
            
            switch (sortBy) {
                case 'date':
                    return sorted.sort((a, b) => new Date(b.date) - new Date(a.date));
                case 'reliability':
                    return sorted.sort((a, b) => b.reliability - a.reliability);
                case 'title':
                    return sorted.sort((a, b) => a.title.localeCompare(b.title));
                case 'citations':
                    return sorted.sort((a, b) => b.citations - a.citations);
                default: // relevance
                    return sorted;
            }
        }

        // ===== ê²€ìƒ‰ì–´ ì…ë ¥ ì²˜ë¦¬ =====
        function handleSearchInputChange(e) {
            const value = e.target.value;
            
            // ì‹¤ì‹œê°„ ê²€ìƒ‰ ì œì•ˆ (ì„ íƒì  êµ¬í˜„)
            if (value.length >= 2) {
                // ê²€ìƒ‰ ì œì•ˆ ë¡œì§
            }
        }

        // ===== ìƒí˜¸ì‘ìš© í•¨ìˆ˜ë“¤ =====
        function viewSource(id) {
            const result = searchResults.find(r => r.id === id);
            
            // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ìƒˆ íƒ­ì—ì„œ URL ì—´ê¸°
            window.open(result.url, '_blank');
            
            showStatus(`"${result.title}" ìë£Œë¥¼ ìƒˆ ì°½ì—ì„œ ì—´ì—ˆìŠµë‹ˆë‹¤.`, 'success');
        }

        function saveEvidence(id) {
            const result = searchResults.find(r => r.id === id);
            
            // LocalStorageì— ì €ì¥ (ì‹¤ì œë¡œëŠ” ì„œë²„ì— ì €ì¥)
            let savedItems = JSON.parse(localStorage.getItem('savedEvidence') || '[]');
            
            if (!savedItems.find(item => item.id === id)) {
                savedItems.push(result);
                localStorage.setItem('savedEvidence', JSON.stringify(savedItems));
                showStatus(`"${result.title}" ìë£Œê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
            } else {
                showStatus('ì´ë¯¸ ì €ì¥ëœ ìë£Œì…ë‹ˆë‹¤.', 'info');
            }
        }

        function citationFormat(id) {
            const result = searchResults.find(r => r.id === id);
            const citation = `${result.author} (${result.date.split('-')[0]}). ${result.title}. ${result.source}. Retrieved from ${result.url}`;
            
            navigator.clipboard.writeText(citation).then(() => {
                showStatus('ì¸ìš© í˜•ì‹ì´ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            }).catch(() => {
                // í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨ì‹œ ëª¨ë‹¬ í‘œì‹œ
                alert(`ì¸ìš© í˜•ì‹:\n\n${citation}`);
            });
        }

        function analyzeCredibility(id) {
            const result = searchResults.find(r => r.id === id);
            
            showLoading('ì‹ ë¢°ë„ ë¶„ì„ ì¤‘...', 'AIê°€ ìë£Œì˜ ì‹ ë¢°ë„ë¥¼ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤');
            
            setTimeout(() => {
                hideLoading();
                
                const analysis = `
                    ğŸ“Š ì‹ ë¢°ë„ ë¶„ì„ ê²°ê³¼
                    
                    ì¢…í•© ì‹ ë¢°ë„: ${result.reliability}%
                    
                    âœ… ì‹ ë¢°ë„ ìš”ì†Œ:
                    â€¢ ì¶œì²˜ ì‹ ë¢°ì„±: ${result.institution} (ê³µì‹ ë ¥ ìˆëŠ” ê¸°ê´€)
                    â€¢ ì¸ìš© íšŸìˆ˜: ${result.citations}íšŒ (ë†’ì€ í•™ìˆ ì  ì¸ì •)
                    â€¢ ìµœì‹ ì„±: ${result.dateFormatted} (ìµœì‹  ìë£Œ)
                    â€¢ ì €ì ì „ë¬¸ì„±: í•´ë‹¹ ë¶„ì•¼ ì „ë¬¸ê°€
                    
                    ğŸ’¡ í™œìš© ê¶Œì¥ì‚¬í•­:
                    ${result.reliability >= 90 ? 'ë§¤ìš° ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ìë£Œë¡œ í•µì‹¬ ê·¼ê±°ë¡œ í™œìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.' : 
                      result.reliability >= 80 ? 'ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ìë£Œë¡œ ë³´ì¡° ê·¼ê±°ë¡œ í™œìš©í•˜ì„¸ìš”.' : 
                      'ë‹¤ë¥¸ ìë£Œì™€ í•¨ê»˜ êµì°¨ ê²€ì¦í•˜ì—¬ ì‚¬ìš©í•˜ì„¸ìš”.'}
                `;
                
                alert(analysis);
            }, 2000);
        }

        // ===== ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥ =====
        function showExportSection() {
            const exportSection = document.getElementById('exportSection');
            exportSection.classList.add('active');
        }

        function exportResults(format) {
            if (searchResults.length === 0) {
                showStatus('ë‚´ë³´ë‚¼ ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.', 'warning');
                return;
            }

            showLoading('íŒŒì¼ ìƒì„± ì¤‘...', `${format.toUpperCase()} í˜•ì‹ìœ¼ë¡œ ë‚´ë³´ë‚´ê³  ìˆìŠµë‹ˆë‹¤`);
            
            setTimeout(() => {
                hideLoading();
                
                const content = generateExportContent();
                
                if (format === 'word') {
                    exportToWord(content);
                } else if (format === 'pdf') {
                    exportToPDF();
                } else if (format === 'excel') {
                    exportToExcel();
                }
                
                showStatus(`${format.toUpperCase()} íŒŒì¼ë¡œ ë‚´ë³´ë‚´ê¸°ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
            }, 1500);
        }

        function exportToWord(content) {
            const blob = new Blob([content], { type: 'text/html;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `í† ë¡ _ê·¼ê±°ìë£Œ_${currentSearchTerm}_${getCurrentDate()}.doc`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function exportToPDF() {
            window.print();
        }

        function printResults() {
            if (searchResults.length === 0) {
                showStatus('ì¸ì‡„í•  ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.', 'warning');
                return;
            }

            const printContent = generatePrintContent();
            const printWindow = window.open('', '_blank');
            
            printWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>í† ë¡  ê·¼ê±°ìë£Œ - ${currentSearchTerm}</title>
                    <meta charset="utf-8">
                    <style>
                        body { 
                            font-family: 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', Arial, sans-serif; 
                            line-height: 1.6; 
                            margin: 20px;
                            color: #333;
                        }
                        h1 { 
                            color: #059669; 
                            border-bottom: 3px solid #059669; 
                            padding-bottom: 15px;
                            margin-bottom: 30px;
                        }
                        .header-info {
                            background: #f8fafc;
                            padding: 20px;
                            border-radius: 8px;
                            margin-bottom: 30px;
                            border-left: 4px solid #059669;
                        }
                        .result-item { 
                            margin-bottom: 40px; 
                            page-break-inside: avoid;
                            border: 1px solid #e2e8f0;
                            padding: 20px;
                            border-radius: 8px;
                        }
                        .result-title { 
                            font-size: 1.2rem; 
                            font-weight: bold; 
                            color: #059669; 
                            margin-bottom: 10px; 
                        }
                        .result-meta { 
                            color: #666; 
                            font-size: 0.9rem; 
                            margin-bottom: 15px;
                            display: flex;
                            gap: 20px;
                            flex-wrap: wrap;
                        }
                        .result-summary { 
                            margin-bottom: 15px;
                            line-height: 1.7;
                        }
                        .result-tags { 
                            font-size: 0.8rem; 
                            color: #888;
                        }
                        .tag {
                            background: #e0f2fe;
                            color: #0369a1;
                            padding: 2px 8px;
                            border-radius: 4px;
                            margin-right: 8px;
                        }
                        @media print { 
                            body { margin: 0; font-size: 12pt; } 
                            .no-print { display: none; }
                            h1 { font-size: 18pt; }
                            .result-title { font-size: 14pt; }
                        }
                    </style>
                </head>
                <body>
                    ${printContent}
                </body>
                </html>
            `);
            
            printWindow.document.close();
            
            printWindow.onload = function() {
                printWindow.print();
                printWindow.close();
            };
        }

        function shareResults() {
            if (navigator.share && searchResults.length > 0) {
                navigator.share({
                    title: `í† ë¡  ê·¼ê±°ìë£Œ: ${currentSearchTerm}`,
                    text: `${currentSearchTerm}ì— ëŒ€í•œ ${searchResults.length}ê°œì˜ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ê·¼ê±°ìë£Œë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤.`,
                    url: window.location.href
                });
            } else {
                // ëŒ€ì²´ ê³µìœ  ë°©ë²•
                const shareUrl = window.location.href;
                navigator.clipboard.writeText(shareUrl).then(() => {
                    showStatus('í˜ì´ì§€ ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                });
            }
        }

        function generateExportContent() {
            const dateString = new Date().toLocaleString('ko-KR');
            
            return `
                <!DOCTYPE html>
                <html>
                <head>
                    <meta charset="utf-8">
                    <title>í† ë¡  ê·¼ê±°ìë£Œ - ${currentSearchTerm}</title>
                    <style>
                        body { font-family: 'Malgun Gothic', Arial, sans-serif; line-height: 1.6; margin: 20px; }
                        h1 { color: #059669; border-bottom: 2px solid #059669; padding-bottom: 10px; }
                        .header-info { background: #f8fafc; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
                        .result { margin-bottom: 30px; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
                        .result-title { font-size: 1.1rem; font-weight: bold; color: #059669; margin-bottom: 8px; }
                        .result-meta { color: #666; font-size: 0.9rem; margin-bottom: 10px; }
                        .result-tags { font-size: 0.8rem; color: #888; margin-top: 10px; }
                    </style>
                </head>
                <body>
                    <h1>ğŸ“š í† ë¡  ê·¼ê±°ìë£Œ ê²€ìƒ‰ ê²°ê³¼</h1>
                    
                    <div class="header-info">
                        <p><strong>ê²€ìƒ‰ í‚¤ì›Œë“œ:</strong> ${currentSearchTerm}</p>
                        <p><strong>ê²€ìƒ‰ ì¼ì‹œ:</strong> ${dateString}</p>
                        <p><strong>ì´ ê²€ìƒ‰ ê²°ê³¼:</strong> ${searchResults.length}ê°œ</p>
                        <p><strong>ì ìš© í•„í„°:</strong> ${getFilterDescription()}</p>
                    </div>
                    
                    ${searchResults.map((result, index) => `
                        <div class="result">
                            <div class="result-title">${index + 1}. ${result.title}</div>
                            <div class="result-meta">
                                ì¶œì²˜: ${result.source} | 
                                ì‹ ë¢°ë„: ${result.reliability}% | 
                                ë°œí–‰ì¼: ${result.dateFormatted} |
                                ì¸ìš©: ${result.citations}íšŒ
                            </div>
                            <div class="result-summary">${result.summary}</div>
                            <div class="result-tags">íƒœê·¸: ${result.tags.join(', ')}</div>
                            <div style="margin-top: 8px; font-size: 0.9rem; color: #666;">
                                URL: ${result.url}
                            </div>
                        </div>
                    `).join('')}
                    
                    <div style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; color: #666; font-size: 0.9rem;">
                        <p>ì´ ìë£ŒëŠ” í† ë¡  ê·¼ê±°ìë£Œ ê²€ìƒ‰ ë„êµ¬ë¥¼ í†µí•´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                        <p>ìƒì„± ì¼ì‹œ: ${dateString}</p>
                    </div>
                </body>
                </html>
            `;
        }

        function generatePrintContent() {
            const dateString = new Date().toLocaleString('ko-KR');
            
            return `
                <h1>ğŸ“š í† ë¡  ê·¼ê±°ìë£Œ ê²€ìƒ‰ ê²°ê³¼</h1>
                
                <div class="header-info">
                    <p><strong>ê²€ìƒ‰ í‚¤ì›Œë“œ:</strong> ${currentSearchTerm}</p>
                    <p><strong>ê²€ìƒ‰ ì¼ì‹œ:</strong> ${dateString}</p>
                    <p><strong>ì´ ê²€ìƒ‰ ê²°ê³¼:</strong> ${searchResults.length}ê°œ</p>
                </div>
                
                ${searchResults.map((result, index) => `
                    <div class="result-item">
                        <div class="result-title">${index + 1}. ${result.title}</div>
                        <div class="result-meta">
                            <span>ì¶œì²˜: ${result.source}</span>
                            <span>ì‹ ë¢°ë„: ${result.reliability}%</span>
                            <span>ë°œí–‰ì¼: ${result.dateFormatted}</span>
                            <span>ì¸ìš©: ${result.citations}íšŒ</span>
                        </div>
                        <div class="result-summary">${result.summary}</div>
                        <div class="result-tags">
                            ${result.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                        </div>
                    </div>
                `).join('')}
            `;
        }

        function getFilterDescription() {
            const filters = [];
            
            if (currentFilters.sourceType !== 'all') {
                filters.push(`ìœ í˜•: ${getSourceTypeLabel(currentFilters.sourceType)}`);
            }
            if (currentFilters.reliability !== 'all') {
                filters.push(`ì‹ ë¢°ë„: ${getReliabilityLabel(currentFilters.reliability)}`);
            }
            if (currentFilters.perspective !== 'balanced') {
                filters.push(`ê´€ì : ${getPerspectiveLabel(currentFilters.perspective)}`);
            }
            
            return filters.length > 0 ? filters.join(', ') : 'í•„í„° ì—†ìŒ';
        }

        function getSourceTypeLabel(value) {
            const labels = {
                'news': 'ë‰´ìŠ¤ ê¸°ì‚¬',
                'academic': 'í•™ìˆ  ìë£Œ',
                'government': 'ì •ë¶€ ë°œí‘œ',
                'statistics': 'í†µê³„ ìë£Œ',
                'research': 'ì—°êµ¬ ë³´ê³ ì„œ',
                'international': 'êµ­ì œê¸°êµ¬ ìë£Œ'
            };
            return labels[value] || value;
        }

        function getReliabilityLabel(value) {
            const labels = {
                'high': 'ë†’ìŒ',
                'verified': 'ê²€ì¦ëœ ìë£Œë§Œ',
                'premium': 'í”„ë¦¬ë¯¸ì—„ ì†ŒìŠ¤'
            };
            return labels[value] || value;
        }

        function getPerspectiveLabel(value) {
            const labels = {
                'pro': 'ì°¬ì„± ê´€ì ',
                'con': 'ë°˜ëŒ€ ê´€ì ',
                'neutral': 'ì¤‘ë¦½ì  ë¶„ì„'
            };
            return labels[value] || value;
        }

        // ===== ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ =====
        function getCurrentDate() {
            return new Date().toISOString().split('T')[0];
        }

        function showStatus(message, type = 'info') {
            const statusEl = document.getElementById('status-message');
            statusEl.textContent = message;
            statusEl.className = `status-message ${type} show`;
            
            setTimeout(() => {
                statusEl.classList.remove('show');
            }, type === 'success' ? 3000 : 4000);
        }

        function showLoading(title = 'AI ì²˜ë¦¬ ì¤‘...', description = 'ì ì‹œë§Œ ê¸°ë‹¤ë ¤ ì£¼ì„¸ìš”') {
            const overlay = document.getElementById('loading-overlay');
            document.getElementById('loading-title').textContent = title;
            document.getElementById('loading-description').textContent = description;
            overlay.classList.add('active');
        }

        function hideLoading() {
            document.getElementById('loading-overlay').classList.remove('active');
        }

        // ===== AI ì§„í–‰ë¥  í‘œì‹œ í•¨ìˆ˜ë“¤ =====
        let aiProgressModal = null;
        let progressSteps = [];
        let currentStep = 0;
        let progressInterval = null;

        function showAIProgress(type = 'evidence-search') {
            hideLoading();
            
            if (type === 'evidence-search') {
                progressSteps = [
                    { text: 'í‚¤ì›Œë“œ ì˜ë¯¸ ë¶„ì„ ì¤‘...', icon: 'ğŸ¯' },
                    { text: 'ê´€ë ¨ ìë£Œ ìœ í˜• í™•ì¸ ì¤‘...', icon: 'ğŸ“‹' },
                    { text: 'ì‹ ë¢°ì„± ìˆëŠ” ì†ŒìŠ¤ ê²€ìƒ‰ ì¤‘...', icon: 'ğŸ”' },
                    { text: 'ìë£Œ ì‹ ë¢°ë„ ê²€ì¦ ì¤‘...', icon: 'âœ…' },
                    { text: 'ê²€ìƒ‰ ê²°ê³¼ ìµœì í™” ì¤‘...', icon: 'ğŸ“Š' }
                ];
            }
            
            currentStep = 0;
            
            const titles = {
                'evidence-search': 'ê·¼ê±°ìë£Œë¥¼ ê²€ìƒ‰ ì¤‘ì…ë‹ˆë‹¤'
            };
            
            const durations = {
                'evidence-search': '10-15'
            };
            
            const modalHTML = `
                <div class="ai-progress-overlay" id="ai-progress-overlay">
                    <div class="ai-progress-modal">
                        <div class="ai-progress-icon">ğŸ¤–</div>
                        <div class="ai-progress-title">${titles[type] || 'ì²˜ë¦¬ ì¤‘ì…ë‹ˆë‹¤'}</div>
                        <div class="ai-progress-subtitle">ì•½ ${durations[type] || '10-15'}ì´ˆ ì†Œìš”ë©ë‹ˆë‹¤</div>
                        
                        <div class="ai-progress-bar-container">
                            <div class="ai-progress-bar" id="ai-progress-bar"></div>
                        </div>
                        
                        <div class="ai-progress-steps">
                            ${progressSteps.map((step, index) => `
                                <div class="ai-progress-step" id="progress-step-${index}">
                                    <span class="ai-progress-step-icon">${step.icon}</span>
                                    <span>${step.text}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            aiProgressModal = document.getElementById('ai-progress-overlay');
            
            startProgressAnimation();
        }

        function startProgressAnimation() {
            const progressBar = document.getElementById('ai-progress-bar');
            const totalSteps = progressSteps.length;
            const stepDuration = 2000;
            
            progressInterval = setInterval(() => {
                if (currentStep > 0) {
                    const prevStep = document.getElementById(`progress-step-${currentStep - 1}`);
                    if (prevStep) {
                        prevStep.classList.remove('active');
                        prevStep.classList.add('completed');
                        prevStep.querySelector('.ai-progress-step-icon').textContent = 'âœ…';
                    }
                }
                
                if (currentStep < totalSteps) {
                    const currentStepEl = document.getElementById(`progress-step-${currentStep}`);
                    if (currentStepEl) {
                        currentStepEl.classList.add('active');
                    }
                    
                    const progress = ((currentStep + 1) / totalSteps) * 100;
                    if (progressBar) {
                        progressBar.style.width = `${progress}%`;
                    }
                    
                    currentStep++;
                } else {
                    clearInterval(progressInterval);
                }
            }, stepDuration);
        }

        function hideAIProgress() {
            if (progressInterval) {
                clearInterval(progressInterval);
                progressInterval = null;
            }
            
            if (aiProgressModal) {
                aiProgressModal.style.animation = 'aiProgressSlideIn 0.3s ease-out reverse';
                setTimeout(() => {
                    if (aiProgressModal) {
                        aiProgressModal.remove();
                        aiProgressModal = null;
                    }
                }, 300);
            }
        }

        // ===== ë„ì›€ë§ =====
        function showHelp() {
            const helpContent = `
ğŸ“š í† ë¡  ê·¼ê±°ìë£Œ ê²€ìƒ‰ ë„êµ¬ ì‚¬ìš©ë²•

ğŸ” 1. ê¸°ë³¸ ê²€ìƒ‰
â€¢ ê²€ìƒ‰ì°½ì— í† ë¡  ì£¼ì œë‚˜ í‚¤ì›Œë“œ ì…ë ¥
â€¢ "AI ë¶„ì„" ë²„íŠ¼ìœ¼ë¡œ í‚¤ì›Œë“œ ìµœì í™” ì¶”ì²œ
â€¢ êµ¬ì²´ì ì¸ í‚¤ì›Œë“œì¼ìˆ˜ë¡ ì •í™•í•œ ê²°ê³¼

ğŸ“Š 2. ê³ ê¸‰ í•„í„° í™œìš©
â€¢ ìë£Œ ìœ í˜•: ë‰´ìŠ¤, í•™ìˆ ìë£Œ, ì •ë¶€ë°œí‘œ ë“±
â€¢ ë°œí–‰ ê¸°ê°„: ìµœì‹  ìë£Œ ë˜ëŠ” íŠ¹ì • ê¸°ê°„ ì„ íƒ
â€¢ ì‹ ë¢°ë„ ìˆ˜ì¤€: ê²€ì¦ëœ ìë£Œ ìš°ì„  ê²€ìƒ‰
â€¢ ê´€ì  ë¶„ì„: ì°¬ì„±/ë°˜ëŒ€/ì¤‘ë¦½ ê´€ì ë³„ ë¶„ë¥˜

ğŸ¯ 3. AI ê¸°ëŠ¥ í™œìš©
â€¢ AI í‚¤ì›Œë“œ ë¶„ì„ìœ¼ë¡œ ê²€ìƒ‰ ì „ëµ ìˆ˜ë¦½
â€¢ ìë£Œ ì‹ ë¢°ë„ AI ë¶„ì„ìœ¼ë¡œ í’ˆì§ˆ ê²€ì¦
â€¢ ì‹¤ì‹œê°„ íŠ¸ë Œë“œ ë¶„ì„ìœ¼ë¡œ ìµœì‹ ì„± í™•ë³´

ğŸ“‹ 4. ê²€ìƒ‰ ê²°ê³¼ í™œìš©
â€¢ ìë£Œ ë³´ê¸°: ì›ë³¸ ì†ŒìŠ¤ ì¦‰ì‹œ í™•ì¸
â€¢ ì €ì¥í•˜ê¸°: ê°œì¸ ê·¼ê±°ìë£Œí•¨ì— ë³´ê´€
â€¢ ì¸ìš©í˜•ì‹: ì˜¬ë°”ë¥¸ í•™ìˆ  ì¸ìš© í˜•ì‹ ì œê³µ
â€¢ ì‹ ë¢°ë„ ë¶„ì„: AI ê¸°ë°˜ ìë£Œ í’ˆì§ˆ í‰ê°€

ğŸ“¤ 5. ë‚´ë³´ë‚´ê¸° ë° ê³µìœ 
â€¢ ì›Œë“œ/PDF í˜•ì‹ìœ¼ë¡œ ë‚´ë³´ë‚´ê¸°
â€¢ ì¸ì‡„ ìµœì í™”ëœ í˜•íƒœë¡œ ì¶œë ¥
â€¢ ê²€ìƒ‰ ê²°ê³¼ ë§í¬ ê³µìœ 

ğŸ’¡ íš¨ê³¼ì ì¸ ê²€ìƒ‰ íŒ:
â€¢ ì—¬ëŸ¬ í‚¤ì›Œë“œ ì¡°í•©ìœ¼ë¡œ ë‹¤ê°ë„ ê²€ìƒ‰
â€¢ ì‹ ë¢°ë„ ë†’ì€ ìë£Œ ìš°ì„  í™œìš©
â€¢ ì°¬ë°˜ ì–‘ì¸¡ ê´€ì ì˜ ìë£Œ ê· í˜• ìˆ˜ì§‘
â€¢ ìµœì‹  í†µê³„ì™€ ì •ë¶€ ë°œí‘œìë£Œ ì ê·¹ í™œìš©
â€¢ êµ­ì œ ë¹„êµ ìë£Œë¡œ ì‹œê° í™•ì¥

âš¡ ê³ ê¸‰ í™œìš©ë²•:
â€¢ AI ë¶„ì„ìœ¼ë¡œ ê²€ìƒ‰ ì „ëµ ìµœì í™”
â€¢ ì‹¤ì‹œê°„ í•„í„°ë§ìœ¼ë¡œ ê²°ê³¼ ì •ì œ
â€¢ ì°¨íŠ¸ë¥¼ í†µí•œ ìë£Œ ë¶„í¬ í™•ì¸
â€¢ ì¸ìš© íšŸìˆ˜ ê¸°ì¤€ ìë£Œ ì‹ ë¢°ì„± íŒë‹¨
            `;
            
            alert(helpContent);
        }

        // ===== í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ =====
        document.addEventListener('keydown', function(e) {
            // Ctrl+Enter ë˜ëŠ” Cmd+Enterë¡œ ê²€ìƒ‰ ì‹¤í–‰
            if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                searchEvidence();
            }
            
            // ESCë¡œ AI ë¶„ì„ íŒ¨ë„ ë‹«ê¸°
            if (e.key === 'Escape') {
                hideAIAnalysis();
            }
            
            // F1ìœ¼ë¡œ ë„ì›€ë§ ì—´ê¸°
            if (e.key === 'F1') {
                e.preventDefault();
                showHelp();
            }
        });

        // ===== ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ =====
        if (typeof PerformanceObserver !== 'undefined') {
            const observer = new PerformanceObserver((list) => {
                for (const entry of list.getEntries()) {
                    if (entry.entryType === 'largest-contentful-paint') {
                        console.log('LCP:', entry.startTime);
                    }
                }
            });
            
            observer.observe({ entryTypes: ['largest-contentful-paint'] });
        }

        // ===== ì ‘ê·¼ì„± ê°œì„  =====
        document.addEventListener('DOMContentLoaded', function() {
            // í¬ì»¤ìŠ¤ ê´€ë¦¬
            const firstFocusableElement = document.getElementById('searchInput');
            if (firstFocusableElement) {
                firstFocusableElement.focus();
            }
            
            // ARIA ë ˆì´ë¸” ë™ì  ì—…ë°ì´íŠ¸
            updateARIALabels();
        });

        function updateARIALabels() {
            const searchInput = document.getElementById('searchInput');
            if (searchInput) {
                searchInput.setAttribute('aria-describedby', 'search-help');
            }
        }
    </script>
</body>
</html>