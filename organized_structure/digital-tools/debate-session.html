<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’¬ ì‹¤ì‹œê°„ í† ë¡  ì§„í–‰ ë„êµ¬ - SuperClaude Framework</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    
    <!-- Chart.js for Analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        /* ===== ê¸°ë³¸ ì„¤ì • (ì›ë³¸ í”„ë¡œê·¸ë¨ ê¸°ë°˜) ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* ì›ë³¸ í”„ë¡œê·¸ë¨ ìƒ‰ìƒ ì‹œìŠ¤í…œ ì™„ì „ ì ìš© */
            --primary-color: #3b82f6;
            --primary-hover: #2563eb;
            --primary-light: #eff6ff;
            --secondary-color: #64748b;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --info-color: #0ea5e9;
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --text-color: #1f2937;
            --text-light: #6b7280;
            --border-color: #e2e8f0;
            --border-light: #f1f5f9;
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            
            /* ê³ ê¸‰ ê·¸ë¼ë””ì–¸íŠ¸ ì‹œìŠ¤í…œ */
            --gradient-primary: linear-gradient(135deg, var(--primary-color), #1d4ed8);
            --gradient-success: linear-gradient(135deg, var(--success-color), #059669);
            --gradient-warning: linear-gradient(135deg, var(--warning-color), #d97706);
            --gradient-danger: linear-gradient(135deg, var(--danger-color), #dc2626);
            --gradient-bg: linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%);
            --gradient-card: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            
            /* ì• ë‹ˆë©”ì´ì…˜ ì‹œìŠ¤í…œ */
            --transition-fast: 0.15s ease;
            --transition-normal: 0.3s ease;
            --transition-slow: 0.5s ease;
            --transition-bounce: 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif;
            background: var(--gradient-bg);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ===== ë ˆì´ì•„ì›ƒ ì‹œìŠ¤í…œ ===== */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        /* ===== í—¤ë” ì‹œìŠ¤í…œ (ì›ë³¸ í”„ë¡œê·¸ë¨ ìŠ¤íƒ€ì¼) ===== */
        .header {
            text-align: center;
            padding: 40px 20px;
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--shadow-lg);
            border-radius: 20px;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 20%, rgba(255,255,255,0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            position: relative;
            z-index: 1;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .header .version-tag {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* ===== ì¹´ë“œ ì‹œìŠ¤í…œ ===== */
        .card {
            background: var(--gradient-card);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
            transition: var(--transition-normal);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-primary);
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .card h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card.highlight {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border: 2px solid var(--info-color);
            animation: highlightPulse 2s infinite;
        }

        @keyframes highlightPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.005); }
        }

        /* ===== ê³ ê¸‰ íƒ€ì´ë¨¸ ì‹œìŠ¤í…œ ===== */
        .timer-container {
            position: relative;
        }

        .timer-display {
            text-align: center;
            font-size: 4rem;
            font-weight: 900;
            color: var(--primary-color);
            margin: 30px 0;
            padding: 40px;
            background: var(--gradient-card);
            border-radius: 20px;
            border: 3px solid var(--border-color);
            position: relative;
            font-variant-numeric: tabular-nums;
            letter-spacing: 0.05em;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
        }

        .timer-display.warning {
            color: var(--warning-color);
            animation: timerWarning 1s infinite;
        }

        .timer-display.danger {
            color: var(--danger-color);
            animation: timerDanger 0.5s infinite;
        }

        @keyframes timerWarning {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.02); opacity: 0.8; }
        }

        @keyframes timerDanger {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .timer-progress {
            width: 100%;
            height: 8px;
            background: var(--border-color);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .timer-progress-fill {
            height: 100%;
            background: var(--gradient-success);
            transition: width 1s linear;
            border-radius: 4px;
        }

        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .timer-settings {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .timer-preset {
            text-align: center;
        }

        .timer-preset select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            background: white;
            transition: var(--transition-normal);
        }

        .timer-preset select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        /* ===== ë²„íŠ¼ ì‹œìŠ¤í…œ (ì›ë³¸ í”„ë¡œê·¸ë¨ ìˆ˜ì¤€) ===== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px 24px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-bounce);
            text-decoration: none;
            position: relative;
            overflow: hidden;
            min-width: 120px;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: var(--transition-normal);
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: var(--shadow-lg);
        }

        .btn:active {
            transform: translateY(0) scale(0.98);
            transition: var(--transition-fast);
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
        }

        .btn-success {
            background: var(--gradient-success);
            color: white;
        }

        .btn-warning {
            background: var(--gradient-warning);
            color: white;
        }

        .btn-danger {
            background: var(--gradient-danger);
            color: white;
        }

        .btn-outline {
            background: transparent;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        .btn-outline:hover {
            background: var(--primary-color);
            color: white;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        /* ===== í† ë¡  ë‹¨ê³„ ì‹œìŠ¤í…œ ===== */
        .debate-stages {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stage-card {
            background: white;
            border-radius: 16px;
            padding: 25px;
            border: 2px solid var(--border-color);
            transition: var(--transition-normal);
            position: relative;
            cursor: pointer;
        }

        .stage-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--border-color);
            transition: var(--transition-normal);
        }

        .stage-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary-color);
        }

        .stage-card:hover::before {
            background: var(--primary-color);
            width: 6px;
        }

        .stage-card.active {
            background: var(--primary-light);
            border-color: var(--primary-color);
            box-shadow: var(--shadow-lg);
            animation: stageActive 1s ease;
        }

        .stage-card.active::before {
            background: var(--primary-color);
            width: 6px;
        }

        .stage-card.completed {
            background: linear-gradient(135deg, #ecfdf5, #d1fae5);
            border-color: var(--success-color);
        }

        .stage-card.completed::before {
            background: var(--success-color);
        }

        @keyframes stageActive {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .stage-card h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.2rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .stage-card.active h3 {
            color: var(--primary-color);
        }

        .stage-card.completed h3 {
            color: var(--success-color);
        }

        .stage-description {
            color: var(--text-light);
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .stage-time {
            font-size: 0.9rem;
            color: var(--text-light);
            font-weight: 500;
        }

        .stage-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }

        /* ===== ì°¸ê°€ì ê´€ë¦¬ ì‹œìŠ¤í…œ ===== */
        .participants {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .team-section {
            background: white;
            border-radius: 16px;
            padding: 25px;
            border: 3px solid var(--border-color);
            position: relative;
            transition: var(--transition-normal);
        }

        .team-pro {
            border-color: var(--success-color);
            background: linear-gradient(135deg, #ecfdf5 0%, #f0fdf4 100%);
        }

        .team-con {
            border-color: var(--danger-color);
            background: linear-gradient(135deg, #fef2f2 0%, #fef5f5 100%);
        }

        .team-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
        }

        .team-pro .team-title { 
            color: var(--success-color); 
        }

        .team-con .team-title { 
            color: var(--danger-color); 
        }

        .participant-list {
            list-style: none;
            margin-bottom: 20px;
        }

        .participant-item {
            padding: 15px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 12px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: var(--transition-normal);
            cursor: pointer;
        }

        .participant-item:hover {
            background: rgba(255, 255, 255, 0.95);
            transform: translateX(3px);
        }

        .participant-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .speaking-indicator {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--border-color);
            transition: var(--transition-normal);
            position: relative;
        }

        .speaking-indicator.active {
            background: var(--success-color);
            animation: pulse 2s infinite;
        }

        .speaking-indicator.active::after {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            border: 2px solid var(--success-color);
            border-radius: 50%;
            opacity: 0.3;
            animation: ripple 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
        }

        @keyframes ripple {
            0% { transform: scale(0.8); opacity: 0.8; }
            100% { transform: scale(1.5); opacity: 0; }
        }

        .participant-name {
            font-weight: 600;
            color: var(--text-color);
        }

        .participant-role {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .participant-controls {
            display: flex;
            gap: 8px;
        }

        .control-btn {
            padding: 8px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            transition: var(--transition-normal);
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 1);
            transform: scale(1.1);
        }

        /* ===== ì˜ê²¬ ê¸°ë¡ ì‹œìŠ¤í…œ ===== */
        .opinion-input {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            font-size: 1rem;
            line-height: 1.5;
            resize: vertical;
            min-height: 120px;
            transition: var(--transition-normal);
            font-family: inherit;
        }

        .opinion-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .opinion-input::placeholder {
            color: var(--text-light);
        }

        /* ===== í†µê³„ ë° ë¶„ì„ ì‹œìŠ¤í…œ ===== */
        .analytics-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid var(--border-color);
            transition: var(--transition-normal);
        }

        .stat-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--text-light);
            font-weight: 500;
        }

        /* ===== AI ë¶„ì„ ì„¹ì…˜ ===== */
        .ai-analysis {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border: 2px solid var(--info-color);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
            position: relative;
        }

        .ai-analysis h3 {
            color: var(--info-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .ai-insight {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid var(--info-color);
        }

        /* ===== ë¡œë”© ë° ìƒíƒœ ì‹œìŠ¤í…œ ===== */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-normal);
        }

        .loading-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .loading-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 400px;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid var(--border-color);
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ===== ìƒíƒœ ë©”ì‹œì§€ ì‹œìŠ¤í…œ ===== */
        .status-message {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 24px;
            border-radius: 12px;
            color: white;
            font-weight: 600;
            box-shadow: var(--shadow-lg);
            z-index: 9999;
            transform: translateX(400px);
            transition: var(--transition-normal);
            max-width: 400px;
        }

        .status-message.show {
            transform: translateX(0);
        }

        .status-message.success {
            background: var(--gradient-success);
        }

        .status-message.error {
            background: var(--gradient-danger);
        }

        .status-message.info {
            background: var(--gradient-primary);
        }

        /* ===== í”Œë¡œíŒ… ë„ì›€ë§ ===== */
        .floating-help {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            transition: var(--transition-bounce);
        }

        .floating-help:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-xl);
        }

        /* ===== ë°˜ì‘í˜• ë””ìì¸ ===== */
        @media (max-width: 1200px) {
            .container {
                max-width: 100%;
                padding: 15px;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
                flex-direction: column;
                gap: 10px;
            }
            
            .participants {
                grid-template-columns: 1fr;
            }
            
            .timer-display {
                font-size: 2.5rem;
                padding: 20px;
            }

            .debate-stages {
                grid-template-columns: 1fr;
            }

            .timer-settings {
                grid-template-columns: 1fr;
            }

            .analytics-section {
                grid-template-columns: 1fr;
            }

            .btn {
                min-width: auto;
                width: 100%;
                margin-bottom: 10px;
            }

            .timer-controls {
                flex-direction: column;
            }

            .stage-controls {
                flex-direction: column;
            }
        }

        /* ===== ì ‘ê·¼ì„± ê°œì„  ===== */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* ===== ë‹¤í¬ëª¨ë“œ ì¤€ë¹„ ===== */
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-color: #0f172a;
                --card-bg: #1e293b;
                --text-color: #f1f5f9;
                --text-light: #94a3b8;
                --border-color: #334155;
            }
        }

        /* ===== ì¸ì‡„ ìµœì í™” ===== */
        @media print {
            .floating-help,
            .timer-controls,
            .stage-controls {
                display: none !important;
            }
            
            .card {
                break-inside: avoid;
                box-shadow: none;
                border: 1px solid #ddd;
            }
        }

        /* ===== ê³ ê¸‰ íš¨ê³¼ë“¤ ===== */
        .glass-effect {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.8);
        }

        .neon-glow {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
        }

        .slide-up {
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- ë¡œë”© ì˜¤ë²„ë ˆì´ -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h3>AI ë¶„ì„ ì¤‘...</h3>
            <p>í† ë¡  ì„¸ì…˜ì„ ì¤€ë¹„í•˜ê³  ìˆìŠµë‹ˆë‹¤</p>
        </div>
    </div>

    <!-- ìƒíƒœ ë©”ì‹œì§€ -->
    <div class="status-message" id="statusMessage"></div>

    <div class="container">
        <!-- í—¤ë” -->
        <div class="header slide-up">
            <div class="version-tag">v2.0 Enhanced</div>
            <h1>
                <span>ğŸ’¬</span>
                ì‹¤ì‹œê°„ í† ë¡  ì§„í–‰ ë„êµ¬
            </h1>
            <p>AI ê¸°ë°˜ ì²´ê³„ì  í† ë¡  ì§„í–‰ ì‹œìŠ¤í…œ</p>
        </div>

        <!-- ì„¸ì…˜ ì„¤ì • -->
        <div class="card slide-up">
            <h2>ğŸ¯ í† ë¡  ì„¸ì…˜ ì„¤ì •</h2>
            <div class="timer-settings">
                <div class="timer-preset">
                    <label><strong>í† ë¡  ì£¼ì œ</strong></label>
                    <input type="text" id="debateTopicInput" placeholder="í† ë¡  ì£¼ì œë¥¼ ì…ë ¥í•˜ì„¸ìš”" 
                           style="width: 100%; padding: 12px; border: 2px solid var(--border-color); border-radius: 8px; margin-top: 8px;">
                </div>
                <div class="timer-preset">
                    <label><strong>ì°¸ê°€ì ìˆ˜</strong></label>
                    <select id="participantCount" onchange="updateParticipants()">
                        <option value="6">6ëª… (íŒ€ë‹¹ 3ëª…)</option>
                        <option value="8">8ëª… (íŒ€ë‹¹ 4ëª…)</option>
                        <option value="10">10ëª… (íŒ€ë‹¹ 5ëª…)</option>
                        <option value="12">12ëª… (íŒ€ë‹¹ 6ëª…)</option>
                    </select>
                </div>
                <div class="timer-preset">
                    <label><strong>í† ë¡  í˜•ì‹</strong></label>
                    <select id="debateFormat">
                        <option value="structured">êµ¬ì¡°í™”ëœ í† ë¡ </option>
                        <option value="oxford">ì˜¥ìŠ¤í¬ë“œ í† ë¡ </option>
                        <option value="parliamentary">ì˜íšŒì‹ í† ë¡ </option>
                        <option value="fishbowl">ì–´í•­ì‹ í† ë¡ </option>
                    </select>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn btn-primary" onclick="startDebateSession()">ğŸš€ í† ë¡  ì„¸ì…˜ ì‹œì‘</button>
                <button class="btn btn-outline" onclick="generateDebateQuestions()">ğŸ¤– AI ì§ˆë¬¸ ìƒì„±</button>
            </div>
        </div>

        <!-- íƒ€ì´ë¨¸ ë° ì§„í–‰ ìƒí™© -->
        <div class="card highlight" id="timerCard">
            <h2>â° í† ë¡  íƒ€ì´ë¨¸ & ì§„í–‰ ìƒí™©</h2>
            <div class="timer-container">
                <div class="timer-progress">
                    <div class="timer-progress-fill" id="timerProgress" style="width: 100%;"></div>
                </div>
                <div class="timer-display" id="timerDisplay">05:00</div>
                <div class="timer-controls">
                    <button class="btn btn-success" id="startBtn" onclick="startTimer()">
                        <span class="material-symbols-outlined">play_arrow</span>
                        ì‹œì‘
                    </button>
                    <button class="btn btn-warning" id="pauseBtn" onclick="pauseTimer()">
                        <span class="material-symbols-outlined">pause</span>
                        ì¼ì‹œì •ì§€
                    </button>
                    <button class="btn btn-danger" id="stopBtn" onclick="stopTimer()">
                        <span class="material-symbols-outlined">stop</span>
                        ì •ì§€
                    </button>
                    <button class="btn btn-outline" onclick="resetTimer()">
                        <span class="material-symbols-outlined">refresh</span>
                        ë¦¬ì…‹
                    </button>
                </div>
                <div class="timer-settings">
                    <div class="timer-preset">
                        <label><strong>í˜„ì¬ ë‹¨ê³„ ì‹œê°„</strong></label>
                        <select id="timeSelect" onchange="setTimer()">
                            <option value="300">5ë¶„ (ë„ì…)</option>
                            <option value="600">10ë¶„ (ì¤€ë¹„/ë¶„ì„)</option>
                            <option value="900">15ë¶„ (ë³¸ í† ë¡ )</option>
                            <option value="1200">20ë¶„ (ì‹¬í™” í† ë¡ )</option>
                            <option value="1800">30ë¶„ (ì¢…í•© í† ë¡ )</option>
                        </select>
                    </div>
                    <div class="timer-preset">
                        <label><strong>ì•Œë¦¼ ì„¤ì •</strong></label>
                        <select id="alertSettings">
                            <option value="60">1ë¶„ ì „ ì•Œë¦¼</option>
                            <option value="120">2ë¶„ ì „ ì•Œë¦¼</option>
                            <option value="180">3ë¶„ ì „ ì•Œë¦¼</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- í† ë¡  ë‹¨ê³„ ì§„í–‰ -->
        <div class="card">
            <h2>ğŸ“‹ í† ë¡  ì§„í–‰ ë‹¨ê³„</h2>
            <div class="debate-stages">
                <div class="stage-card active" id="stage1" onclick="selectStage(1)">
                    <h3><span class="material-symbols-outlined">rocket_launch</span> 1ë‹¨ê³„: ë„ì…</h3>
                    <p class="stage-description">ì£¼ì œ ì†Œê°œ, íŒ€ êµ¬ì„±, ê·œì¹™ ì„¤ëª…</p>
                    <div class="stage-time">â±ï¸ ê¶Œì¥ ì‹œê°„: 5ë¶„</div>
                </div>
                <div class="stage-card" id="stage2" onclick="selectStage(2)">
                    <h3><span class="material-symbols-outlined">search</span> 2ë‹¨ê³„: ìë£Œ ë¶„ì„</h3>
                    <p class="stage-description">ê´€ë ¨ ìë£Œ ê²€í†  ë° ê·¼ê±° ìˆ˜ì§‘</p>
                    <div class="stage-time">â±ï¸ ê¶Œì¥ ì‹œê°„: 10ë¶„</div>
                </div>
                <div class="stage-card" id="stage3" onclick="selectStage(3)">
                    <h3><span class="material-symbols-outlined">psychology</span> 3ë‹¨ê³„: í† ë¡  ì¤€ë¹„</h3>
                    <p class="stage-description">íŒ€ë³„ ì…ì¥ ì •ë¦¬ ë° ì „ëµ ìˆ˜ë¦½</p>
                    <div class="stage-time">â±ï¸ ê¶Œì¥ ì‹œê°„: 10ë¶„</div>
                </div>
                <div class="stage-card" id="stage4" onclick="selectStage(4)">
                    <h3><span class="material-symbols-outlined">forum</span> 4ë‹¨ê³„: ë³¸ í† ë¡ </h3>
                    <p class="stage-description">ì˜ê²¬ ë°œí‘œ ë° ìƒí˜¸ í† ë¡ </p>
                    <div class="stage-time">â±ï¸ ê¶Œì¥ ì‹œê°„: 15-20ë¶„</div>
                </div>
                <div class="stage-card" id="stage5" onclick="selectStage(5)">
                    <h3><span class="material-symbols-outlined">summarize</span> 5ë‹¨ê³„: ì •ë¦¬</h3>
                    <p class="stage-description">í† ë¡  ë‚´ìš© ì •ë¦¬ ë° ì„±ì°°</p>
                    <div class="stage-time">â±ï¸ ê¶Œì¥ ì‹œê°„: 5ë¶„</div>
                </div>
            </div>
            <div class="stage-controls">
                <button class="btn btn-primary" onclick="nextStage()">
                    <span class="material-symbols-outlined">arrow_forward</span>
                    ë‹¤ìŒ ë‹¨ê³„
                </button>
                <button class="btn btn-outline" onclick="prevStage()">
                    <span class="material-symbols-outlined">arrow_back</span>
                    ì´ì „ ë‹¨ê³„
                </button>
                <button class="btn btn-success" onclick="completeStage()">
                    <span class="material-symbols-outlined">check_circle</span>
                    ë‹¨ê³„ ì™„ë£Œ
                </button>
            </div>
        </div>

        <!-- ì°¸ê°€ì ê´€ë¦¬ -->
        <div class="card">
            <h2>ğŸ‘¥ ì°¸ê°€ì ê´€ë¦¬</h2>
            <div class="participants">
                <div class="team-section team-pro">
                    <div class="team-title">
                        <span class="material-symbols-outlined">thumb_up</span>
                        ì°¬ì„±íŒ€ (PRO)
                    </div>
                    <ul class="participant-list" id="proTeam">
                        <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
                    </ul>
                    <div style="margin-bottom: 15px;">
                        <button class="btn btn-success" onclick="selectSpeaker('pro')">
                            <span class="material-symbols-outlined">mic</span>
                            ë°œì–¸ì ì„ íƒ
                        </button>
                        <button class="btn btn-outline" onclick="addParticipant('pro')">
                            <span class="material-symbols-outlined">person_add</span>
                            ì°¸ê°€ì ì¶”ê°€
                        </button>
                    </div>
                    <textarea class="opinion-input" id="proOpinions" 
                              placeholder="ì°¬ì„±íŒ€ ì£¼ìš” ì˜ê²¬ê³¼ ê·¼ê±°ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ê¸°ë¡í•˜ì„¸ìš”...&#10;&#10;ì˜ˆì‹œ:&#10;- ì£¼ìš” ë…¼ì  1: êµ¬ì²´ì  ê·¼ê±°&#10;- ì£¼ìš” ë…¼ì  2: ì‚¬ë¡€ì™€ ë°ì´í„°&#10;- ë°˜ë°• ë‚´ìš©: ìƒëŒ€ë°© ì˜ê²¬ì— ëŒ€í•œ ë°˜ë°•"></textarea>
                </div>

                <div class="team-section team-con">
                    <div class="team-title">
                        <span class="material-symbols-outlined">thumb_down</span>
                        ë°˜ëŒ€íŒ€ (CON)
                    </div>
                    <ul class="participant-list" id="conTeam">
                        <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
                    </ul>
                    <div style="margin-bottom: 15px;">
                        <button class="btn btn-danger" onclick="selectSpeaker('con')">
                            <span class="material-symbols-outlined">mic</span>
                            ë°œì–¸ì ì„ íƒ
                        </button>
                        <button class="btn btn-outline" onclick="addParticipant('con')">
                            <span class="material-symbols-outlined">person_add</span>
                            ì°¸ê°€ì ì¶”ê°€
                        </button>
                    </div>
                    <textarea class="opinion-input" id="conOpinions" 
                              placeholder="ë°˜ëŒ€íŒ€ ì£¼ìš” ì˜ê²¬ê³¼ ê·¼ê±°ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ê¸°ë¡í•˜ì„¸ìš”...&#10;&#10;ì˜ˆì‹œ:&#10;- ì£¼ìš” ë…¼ì  1: êµ¬ì²´ì  ê·¼ê±°&#10;- ì£¼ìš” ë…¼ì  2: ì‚¬ë¡€ì™€ ë°ì´í„°&#10;- ë°˜ë°• ë‚´ìš©: ìƒëŒ€ë°© ì˜ê²¬ì— ëŒ€í•œ ë°˜ë°•"></textarea>
                </div>
            </div>
        </div>

        <!-- AI ë¶„ì„ ì„¹ì…˜ -->
        <div class="ai-analysis">
            <h3>
                <span class="material-symbols-outlined">psychology</span>
                AI í† ë¡  ë¶„ì„
            </h3>
            <div class="ai-insight" id="aiInsights">
                <p><strong>ì‹¤ì‹œê°„ ë¶„ì„ ëŒ€ê¸°ì¤‘...</strong></p>
                <p>í† ë¡ ì´ ì§„í–‰ë˜ë©´ AIê°€ ë‹¤ìŒì„ ë¶„ì„í•©ë‹ˆë‹¤:</p>
                <ul>
                    <li>ê° íŒ€ì˜ ë…¼ë¦¬ì  êµ¬ì¡° í‰ê°€</li>
                    <li>ê·¼ê±°ì˜ íƒ€ë‹¹ì„± ë¶„ì„</li>
                    <li>í† ë¡  ê· í˜•ë„ ì¸¡ì •</li>
                    <li>ê°œì„  ì œì•ˆì‚¬í•­ ì œê³µ</li>
                </ul>
            </div>
            <button class="btn btn-primary" onclick="analyzeDebate()">
                <span class="material-symbols-outlined">analytics</span>
                AI ë¶„ì„ ì‹¤í–‰
            </button>
        </div>

        <!-- í† ë¡  í†µê³„ -->
        <div class="card">
            <h2>ğŸ“Š í† ë¡  í†µê³„</h2>
            <div class="analytics-section">
                <div class="stat-card">
                    <div class="stat-value" id="totalTime">00:00</div>
                    <div class="stat-label">ì´ í† ë¡  ì‹œê°„</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="currentStage">1</div>
                    <div class="stat-label">í˜„ì¬ ë‹¨ê³„</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="activeSpeakers">0</div>
                    <div class="stat-label">í™œì„± ë°œì–¸ì</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="balanceScore">-</div>
                    <div class="stat-label">í† ë¡  ê· í˜•ë„</div>
                </div>
            </div>
            <div style="margin-top: 20px;">
                <canvas id="debateChart" style="max-height: 400px;"></canvas>
            </div>
        </div>

        <!-- í† ë¡  ê²°ê³¼ ë° ì €ì¥ -->
        <div class="card">
            <h2>ğŸ’¾ í† ë¡  ê²°ê³¼ ê´€ë¦¬</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                <button class="btn btn-success" onclick="saveResults()">
                    <span class="material-symbols-outlined">save</span>
                    ê²°ê³¼ ì €ì¥
                </button>
                <button class="btn btn-primary" onclick="generateReport()">
                    <span class="material-symbols-outlined">description</span>
                    ë¦¬í¬íŠ¸ ìƒì„±
                </button>
                <button class="btn btn-warning" onclick="printResults()">
                    <span class="material-symbols-outlined">print</span>
                    ì¸ì‡„í•˜ê¸°
                </button>
                <button class="btn btn-outline" onclick="exportResults()">
                    <span class="material-symbols-outlined">download</span>
                    ë‚´ë³´ë‚´ê¸°
                </button>
                <button class="btn btn-outline" onclick="shareResults()">
                    <span class="material-symbols-outlined">share</span>
                    ê³µìœ í•˜ê¸°
                </button>
            </div>
        </div>
    </div>

    <!-- í”Œë¡œíŒ… ë„ì›€ë§ ë²„íŠ¼ -->
    <button class="floating-help" onclick="showHelp()" title="ì‚¬ìš©ì ë§¤ë‰´ì–¼">
        <span class="material-symbols-outlined">help</span>
    </button>

    <script>
        // ===== ì „ì—­ ë³€ìˆ˜ (ì›ë³¸ í”„ë¡œê·¸ë¨ ìˆ˜ì¤€) =====
        let timerInterval;
        let timeLeft = 300; // ê¸°ë³¸ 5ë¶„
        let totalTime = 300;
        let currentStage = 1;
        let isTimerRunning = false;
        let isPaused = false;
        let speakers = { pro: [], con: [] };
        let participants = { pro: [], con: [] };
        let debateData = {
            topic: '',
            startTime: null,
            stages: [],
            opinions: { pro: '', con: '' },
            analytics: {}
        };
        let chart = null;

        // ===== ì´ˆê¸°í™” í•¨ìˆ˜ =====
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ‰ í† ë¡  ì§„í–‰ ë„êµ¬ ì´ˆê¸°í™” ì¤‘...');
            initializeParticipants();
            updateTimerDisplay();
            initializeChart();
            loadSavedData();
            
            // ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ ì ìš©
            setTimeout(() => {
                document.querySelectorAll('.slide-up').forEach((el, index) => {
                    setTimeout(() => {
                        el.style.opacity = '1';
                        el.style.transform = 'translateY(0)';
                    }, index * 200);
                });
            }, 100);
            
            showStatus('í† ë¡  ì§„í–‰ ë„êµ¬ê°€ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
        });

        // ===== ì°¸ê°€ì ê´€ë¦¬ ì‹œìŠ¤í…œ =====
        function initializeParticipants() {
            const count = parseInt(document.getElementById('participantCount').value);
            const perTeam = count / 2;
            
            participants.pro = [];
            participants.con = [];
            
            // ê¸°ë³¸ ì°¸ê°€ì ìƒì„±
            for (let i = 0; i < perTeam; i++) {
                participants.pro.push({
                    name: `ì°¸ê°€ì ${i + 1}`,
                    role: i === 0 ? 'íŒ€ì¥' : 'íŒ€ì›',
                    speaking: false,
                    speakTime: 0
                });
                
                participants.con.push({
                    name: `ì°¸ê°€ì ${i + 1}`,
                    role: i === 0 ? 'íŒ€ì¥' : 'íŒ€ì›',
                    speaking: false,
                    speakTime: 0
                });
            }
            
            updateParticipantDisplay();
        }

        function updateParticipants() {
            initializeParticipants();
        }

        function updateParticipantDisplay() {
            updateTeamDisplay('pro', participants.pro);
            updateTeamDisplay('con', participants.con);
        }

        function updateTeamDisplay(team, teamParticipants) {
            const container = document.getElementById(`${team}Team`);
            container.innerHTML = '';
            
            teamParticipants.forEach((participant, index) => {
                const listItem = document.createElement('li');
                listItem.className = 'participant-item';
                listItem.innerHTML = `
                    <div class="participant-info">
                        <div class="speaking-indicator ${participant.speaking ? 'active' : ''}" 
                             id="${team}Speaker${index}"></div>
                        <div>
                            <div class="participant-name" contenteditable="true" 
                                 onblur="updateParticipantName('${team}', ${index}, this.textContent)">${participant.name}</div>
                            <div class="participant-role">${participant.role}</div>
                        </div>
                    </div>
                    <div class="participant-controls">
                        <button class="control-btn" onclick="toggleSpeaking('${team}', ${index})" title="ë°œì–¸ í† ê¸€">
                            <span class="material-symbols-outlined">mic</span>
                        </button>
                        <button class="control-btn" onclick="removeParticipant('${team}', ${index})" title="ì°¸ê°€ì ì œê±°">
                            <span class="material-symbols-outlined">person_remove</span>
                        </button>
                    </div>
                `;
                container.appendChild(listItem);
            });
        }

        function updateParticipantName(team, index, newName) {
            participants[team][index].name = newName.trim() || `ì°¸ê°€ì ${index + 1}`;
            saveDebateData();
        }

        function addParticipant(team) {
            const name = prompt(`ìƒˆ ${team === 'pro' ? 'ì°¬ì„±' : 'ë°˜ëŒ€'}íŒ€ ì°¸ê°€ì ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”:`);
            if (name && name.trim()) {
                participants[team].push({
                    name: name.trim(),
                    role: 'íŒ€ì›',
                    speaking: false,
                    speakTime: 0
                });
                updateParticipantDisplay();
                saveDebateData();
                showStatus(`${name}ì´(ê°€) ${team === 'pro' ? 'ì°¬ì„±' : 'ë°˜ëŒ€'}íŒ€ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
            }
        }

        function removeParticipant(team, index) {
            if (participants[team].length > 1) {
                const participant = participants[team][index];
                if (confirm(`${participant.name}ì„(ë¥¼) íŒ€ì—ì„œ ì œê±°í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                    participants[team].splice(index, 1);
                    updateParticipantDisplay();
                    saveDebateData();
                    showStatus(`${participant.name}ì´(ê°€) ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'info');
                }
            } else {
                showStatus('ìµœì†Œ 1ëª…ì˜ ì°¸ê°€ìê°€ í•„ìš”í•©ë‹ˆë‹¤.', 'error');
            }
        }

        function selectSpeaker(team) {
            const teamParticipants = participants[team];
            let options = teamParticipants.map((p, i) => `${i}: ${p.name} (${p.role})`).join('\n');
            const selection = prompt(`ë°œì–¸ìë¥¼ ì„ íƒí•˜ì„¸ìš” (ë²ˆí˜¸ ì…ë ¥):\n${options}`);
            
            if (selection !== null && selection !== '') {
                const index = parseInt(selection);
                if (index >= 0 && index < teamParticipants.length) {
                    toggleSpeaking(team, index);
                } else {
                    showStatus('ì˜ëª»ëœ ë²ˆí˜¸ì…ë‹ˆë‹¤.', 'error');
                }
            }
        }

        function toggleSpeaking(team, index) {
            // ë‹¤ë¥¸ ë°œì–¸ìë“¤ ë¹„í™œì„±í™”
            participants[team].forEach((p, i) => {
                if (i !== index) p.speaking = false;
            });
            
            // ì„ íƒëœ ë°œì–¸ì í† ê¸€
            participants[team][index].speaking = !participants[team][index].speaking;
            
            updateParticipantDisplay();
            updateSpeakerCount();
            
            const participant = participants[team][index];
            const status = participant.speaking ? 'ë°œì–¸ ì‹œì‘' : 'ë°œì–¸ ì¢…ë£Œ';
            showStatus(`${participant.name}: ${status}`, 'info');
        }

        function updateSpeakerCount() {
            const activeCount = [...participants.pro, ...participants.con]
                .filter(p => p.speaking).length;
            document.getElementById('activeSpeakers').textContent = activeCount;
        }

        // ===== íƒ€ì´ë¨¸ ì‹œìŠ¤í…œ =====
        function startTimer() {
            if (!isTimerRunning && timeLeft > 0) {
                isTimerRunning = true;
                isPaused = false;
                timerInterval = setInterval(updateTimer, 1000);
                updateTimerButtons();
                recordStageStart();
                showStatus('íƒ€ì´ë¨¸ê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            }
        }

        function pauseTimer() {
            if (isTimerRunning) {
                clearInterval(timerInterval);
                isTimerRunning = false;
                isPaused = true;
                updateTimerButtons();
                showStatus('íƒ€ì´ë¨¸ê°€ ì¼ì‹œì •ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.', 'warning');
            }
        }

        function stopTimer() {
            clearInterval(timerInterval);
            isTimerRunning = false;
            isPaused = false;
            timeLeft = parseInt(document.getElementById('timeSelect').value);
            totalTime = timeLeft;
            updateTimerDisplay();
            updateTimerButtons();
            showStatus('íƒ€ì´ë¨¸ê°€ ì •ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
        }

        function resetTimer() {
            stopTimer();
            timeLeft = parseInt(document.getElementById('timeSelect').value);
            totalTime = timeLeft;
            updateTimerDisplay();
            showStatus('íƒ€ì´ë¨¸ê°€ ë¦¬ì…‹ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
        }

        function setTimer() {
            const selectedTime = parseInt(document.getElementById('timeSelect').value);
            if (!isTimerRunning) {
                timeLeft = selectedTime;
                totalTime = selectedTime;
                updateTimerDisplay();
            }
        }

        function updateTimer() {
            timeLeft--;
            updateTimerDisplay();
            updateProgress();
            
            // ì•Œë¦¼ ì„¤ì • í™•ì¸
            const alertTime = parseInt(document.getElementById('alertSettings').value);
            if (timeLeft === alertTime) {
                showStatus(`âš ï¸ ${Math.floor(alertTime/60)}ë¶„ ë‚¨ì•˜ìŠµë‹ˆë‹¤!`, 'warning');
            }
            
            // ì‹œê°„ ì¢…ë£Œ
            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                isTimerRunning = false;
                timeLeft = 0;
                updateTimerDisplay();
                updateTimerButtons();
                showStatus('â° ì‹œê°„ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!', 'error');
                recordStageEnd();
                
                // ìë™ ë‹¤ìŒ ë‹¨ê³„ ì œì•ˆ
                setTimeout(() => {
                    if (confirm('ì‹œê°„ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        nextStage();
                    }
                }, 1000);
            }
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            const display = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            const timerElement = document.getElementById('timerDisplay');
            timerElement.textContent = display;
            
            // ìƒ‰ìƒ ë³€ê²½
            timerElement.className = 'timer-display';
            if (timeLeft <= 60) {
                timerElement.classList.add('danger');
            } else if (timeLeft <= 180) {
                timerElement.classList.add('warning');
            }
            
            // ì´ ì‹œê°„ ì—…ë°ì´íŠ¸
            updateTotalTime();
        }

        function updateProgress() {
            const progress = ((totalTime - timeLeft) / totalTime) * 100;
            document.getElementById('timerProgress').style.width = `${progress}%`;
        }

        function updateTimerButtons() {
            const startBtn = document.getElementById('startBtn');
            const pauseBtn = document.getElementById('pauseBtn');
            const stopBtn = document.getElementById('stopBtn');
            
            if (isTimerRunning) {
                startBtn.disabled = true;
                pauseBtn.disabled = false;
                stopBtn.disabled = false;
            } else {
                startBtn.disabled = timeLeft <= 0;
                pauseBtn.disabled = true;
                stopBtn.disabled = false;
            }
        }

        function updateTotalTime() {
            if (!debateData.startTime) return;
            
            const elapsed = Math.floor((Date.now() - debateData.startTime) / 1000);
            const minutes = Math.floor(elapsed / 60);
            const seconds = elapsed % 60;
            document.getElementById('totalTime').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // ===== ë‹¨ê³„ ê´€ë¦¬ ì‹œìŠ¤í…œ =====
        function selectStage(stage) {
            if (stage === currentStage) return;
            
            // í˜„ì¬ ë‹¨ê³„ ì €ì¥
            recordStageEnd();
            
            // ë‹¨ê³„ ë³€ê²½
            document.getElementById(`stage${currentStage}`).classList.remove('active');
            currentStage = stage;
            document.getElementById(`stage${currentStage}`).classList.add('active');
            
            // ë‹¨ê³„ë³„ ê¶Œì¥ ì‹œê°„ ì„¤ì •
            const stageTimes = { 1: 300, 2: 600, 3: 600, 4: 900, 5: 300 };
            document.getElementById('timeSelect').value = stageTimes[currentStage];
            if (!isTimerRunning) {
                setTimer();
            }
            
            // í†µê³„ ì—…ë°ì´íŠ¸
            document.getElementById('currentStage').textContent = currentStage;
            
            recordStageStart();
            showStatus(`${currentStage}ë‹¨ê³„ë¡œ ì´ë™í–ˆìŠµë‹ˆë‹¤.`, 'info');
        }

        function nextStage() {
            if (currentStage < 5) {
                selectStage(currentStage + 1);
            } else {
                showStatus('ë§ˆì§€ë§‰ ë‹¨ê³„ì…ë‹ˆë‹¤.', 'info');
            }
        }

        function prevStage() {
            if (currentStage > 1) {
                selectStage(currentStage - 1);
            } else {
                showStatus('ì²« ë²ˆì§¸ ë‹¨ê³„ì…ë‹ˆë‹¤.', 'info');
            }
        }

        function completeStage() {
            const stageCard = document.getElementById(`stage${currentStage}`);
            stageCard.classList.add('completed');
            
            recordStageEnd();
            showStatus(`${currentStage}ë‹¨ê³„ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!`, 'success');
            
            if (currentStage < 5) {
                setTimeout(() => {
                    if (confirm('ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        nextStage();
                    }
                }, 1000);
            } else {
                setTimeout(() => {
                    if (confirm('ëª¨ë“  ë‹¨ê³„ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ê²°ê³¼ë¥¼ ì €ì¥í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        generateReport();
                    }
                }, 1000);
            }
        }

        function recordStageStart() {
            if (!debateData.startTime) {
                debateData.startTime = Date.now();
            }
            
            const stage = {
                stage: currentStage,
                startTime: Date.now(),
                endTime: null,
                duration: 0
            };
            
            debateData.stages.push(stage);
        }

        function recordStageEnd() {
            const lastStage = debateData.stages[debateData.stages.length - 1];
            if (lastStage && !lastStage.endTime) {
                lastStage.endTime = Date.now();
                lastStage.duration = Math.floor((lastStage.endTime - lastStage.startTime) / 1000);
            }
        }

        // ===== AI ë¶„ì„ ì‹œìŠ¤í…œ =====
        async function analyzeDebate() {
            showLoading('AI ë¶„ì„ ì¤‘...');
            
            try {
                const proOpinions = document.getElementById('proOpinions').value;
                const conOpinions = document.getElementById('conOpinions').value;
                const topic = document.getElementById('debateTopicInput').value;
                
                if (!proOpinions.trim() || !conOpinions.trim()) {
                    showStatus('ì–‘ íŒ€ì˜ ì˜ê²¬ì„ ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
                    hideLoading();
                    return;
                }
                
                // ì‹¤ì œ AI ë¶„ì„ (ë°ëª¨ìš© ì‹œë®¬ë ˆì´ì…˜)
                const analysis = await simulateAIAnalysis(topic, proOpinions, conOpinions);
                displayAIAnalysis(analysis);
                
                showStatus('AI ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
            } catch (error) {
                console.error('AI ë¶„ì„ ì˜¤ë¥˜:', error);
                showStatus('AI ë¶„ì„ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            } finally {
                hideLoading();
            }
        }

        async function simulateAIAnalysis(topic, proOpinions, conOpinions) {
            // ì‹¤ì œ AI API í˜¸ì¶œ ì‹œë®¬ë ˆì´ì…˜
            await new Promise(resolve => setTimeout(resolve, 3000));
            
            const proLength = proOpinions.length;
            const conLength = conOpinions.length;
            const balance = Math.abs(proLength - conLength) / Math.max(proLength, conLength);
            const balanceScore = Math.round((1 - balance) * 100);
            
            return {
                balanceScore: balanceScore,
                proStrength: Math.floor(Math.random() * 30) + 70,
                conStrength: Math.floor(Math.random() * 30) + 70,
                suggestions: [
                    'ì–‘ íŒ€ ëª¨ë‘ êµ¬ì²´ì ì¸ ì‚¬ë¡€ì™€ ë°ì´í„°ë¥¼ ì œì‹œí•˜ì—¬ ë…¼ë¦¬ì  ì„¤ë“ë ¥ì„ ë†’ì´ì„¸ìš”.',
                    'ìƒëŒ€ë°©ì˜ ì£¼ì¥ì— ëŒ€í•œ ì§ì ‘ì ì¸ ë°˜ë°•ì„ ë” ì²´ê³„ì ìœ¼ë¡œ ì œì‹œí•´ë³´ì„¸ìš”.',
                    'í•µì‹¬ ìŸì ì— ì§‘ì¤‘í•˜ì—¬ ë…¼ì˜ì˜ ì´ˆì ì„ ëª…í™•íˆ í•˜ì„¸ìš”.',
                    'ê°ì •ì  í‘œí˜„ë³´ë‹¤ëŠ” ê°ê´€ì  ê·¼ê±° ì¤‘ì‹¬ì˜ ë…¼ì¦ì„ ê°•í™”í•˜ì„¸ìš”.'
                ]
            };
        }

        function displayAIAnalysis(analysis) {
            const container = document.getElementById('aiInsights');
            container.innerHTML = `
                <div style="margin-bottom: 20px;">
                    <h4 style="color: var(--primary-color); margin-bottom: 10px;">ğŸ“Š í† ë¡  ê· í˜•ë„ ë¶„ì„</h4>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--success-color);">${analysis.proStrength}%</div>
                            <div>ì°¬ì„±íŒ€ ë…¼ë¦¬ì„±</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--primary-color);">${analysis.balanceScore}%</div>
                            <div>ì „ì²´ ê· í˜•ë„</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--danger-color);">${analysis.conStrength}%</div>
                            <div>ë°˜ëŒ€íŒ€ ë…¼ë¦¬ì„±</div>
                        </div>
                    </div>
                </div>
                
                <h4 style="color: var(--primary-color); margin-bottom: 10px;">ğŸ’¡ AI ê°œì„  ì œì•ˆ</h4>
                <ul style="margin: 0; padding-left: 20px;">
                    ${analysis.suggestions.map(suggestion => `<li style="margin-bottom: 8px;">${suggestion}</li>`).join('')}
                </ul>
            `;
            
            // í†µê³„ì— ê· í˜•ë„ ì—…ë°ì´íŠ¸
            document.getElementById('balanceScore').textContent = `${analysis.balanceScore}%`;
            
            // ì°¨íŠ¸ ì—…ë°ì´íŠ¸
            updateChart(analysis);
        }

        async function generateDebateQuestions() {
            const topic = document.getElementById('debateTopicInput').value;
            if (!topic.trim()) {
                showStatus('í† ë¡  ì£¼ì œë¥¼ ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
                return;
            }
            
            showLoading('AIê°€ í† ë¡  ì§ˆë¬¸ì„ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...');
            
            try {
                // ë°ëª¨ìš© ì§ˆë¬¸ ìƒì„±
                const questions = [
                    `${topic}ì— ëŒ€í•œ í•µì‹¬ ìŸì ì€ ë¬´ì—‡ì¸ê°€ìš”?`,
                    `ì´ ì£¼ì œê°€ ì‚¬íšŒì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì–´ë–»ê²Œ í‰ê°€í•˜ì‹œë‚˜ìš”?`,
                    `ë°˜ëŒ€ ì˜ê²¬ì— ëŒ€í•´ ì–´ë–»ê²Œ ë°˜ë°•í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`,
                    `êµ¬ì²´ì ì¸ ì‚¬ë¡€ë‚˜ ë°ì´í„°ë¥¼ ì œì‹œí•´ì£¼ì„¸ìš”.`,
                    `ì¥ê¸°ì  ê´€ì ì—ì„œ ì´ ë¬¸ì œë¥¼ ì–´ë–»ê²Œ ë°”ë¼ë³´ì‹œë‚˜ìš”?`
                ];
                
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                const questionList = questions.map((q, i) => `${i + 1}. ${q}`).join('\n');
                alert(`ğŸ¤– AI ìƒì„± í† ë¡  ì§ˆë¬¸\n\n${questionList}\n\nì´ ì§ˆë¬¸ë“¤ì„ í† ë¡  ì§„í–‰ì— í™œìš©í•´ë³´ì„¸ìš”!`);
                
                showStatus('AI í† ë¡  ì§ˆë¬¸ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
            } catch (error) {
                console.error('ì§ˆë¬¸ ìƒì„± ì˜¤ë¥˜:', error);
                showStatus('ì§ˆë¬¸ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            } finally {
                hideLoading();
            }
        }

        // ===== ì°¨íŠ¸ ì‹œìŠ¤í…œ =====
        function initializeChart() {
            const ctx = document.getElementById('debateChart').getContext('2d');
            chart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['ì°¬ì„±íŒ€ ë°œì–¸', 'ë°˜ëŒ€íŒ€ ë°œì–¸', 'ì¤‘ë¦½ ì‹œê°„'],
                    datasets: [{
                        data: [0, 0, 100],
                        backgroundColor: [
                            'rgba(16, 185, 129, 0.8)',
                            'rgba(239, 68, 68, 0.8)',
                            'rgba(156, 163, 175, 0.8)'
                        ],
                        borderColor: [
                            'rgba(16, 185, 129, 1)',
                            'rgba(239, 68, 68, 1)',
                            'rgba(156, 163, 175, 1)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                        },
                        title: {
                            display: true,
                            text: 'í† ë¡  ì‹œê°„ ë¶„ë°°'
                        }
                    }
                }
            });
        }

        function updateChart(analysis) {
            if (chart && analysis) {
                chart.data.datasets[0].data = [
                    analysis.proStrength,
                    analysis.conStrength,
                    100 - analysis.proStrength - analysis.conStrength
                ];
                chart.update();
            }
        }

        // ===== ê²°ê³¼ ì €ì¥ ë° ê´€ë¦¬ =====
        function saveResults() {
            debateData.topic = document.getElementById('debateTopicInput').value;
            debateData.opinions.pro = document.getElementById('proOpinions').value;
            debateData.opinions.con = document.getElementById('conOpinions').value;
            debateData.participants = participants;
            debateData.currentStage = currentStage;
            debateData.saveDate = new Date().toISOString();
            
            localStorage.setItem('debateResults', JSON.stringify(debateData));
            showStatus('í† ë¡  ê²°ê³¼ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
        }

        function loadSavedData() {
            const saved = localStorage.getItem('debateResults');
            if (saved) {
                try {
                    debateData = JSON.parse(saved);
                    if (debateData.topic) {
                        document.getElementById('debateTopicInput').value = debateData.topic;
                    }
                    if (debateData.opinions) {
                        document.getElementById('proOpinions').value = debateData.opinions.pro || '';
                        document.getElementById('conOpinions').value = debateData.opinions.con || '';
                    }
                } catch (error) {
                    console.error('ì €ì¥ëœ ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜:', error);
                }
            }
        }

        function saveDebateData() {
            debateData.participants = participants;
            debateData.currentStage = currentStage;
            debateData.lastUpdate = Date.now();
        }

        async function generateReport() {
            showLoading('ë¦¬í¬íŠ¸ ìƒì„± ì¤‘...');
            
            try {
                const report = generateDebateReport();
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                displayReport(report);
                showStatus('í† ë¡  ë¦¬í¬íŠ¸ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
            } catch (error) {
                console.error('ë¦¬í¬íŠ¸ ìƒì„± ì˜¤ë¥˜:', error);
                showStatus('ë¦¬í¬íŠ¸ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            } finally {
                hideLoading();
            }
        }

        function generateDebateReport() {
            const topic = document.getElementById('debateTopicInput').value || 'í† ë¡  ì£¼ì œ ë¯¸ì„¤ì •';
            const proOpinions = document.getElementById('proOpinions').value;
            const conOpinions = document.getElementById('conOpinions').value;
            const totalDuration = debateData.stages.reduce((sum, stage) => sum + (stage.duration || 0), 0);
            
            return {
                topic: topic,
                date: new Date().toLocaleDateString('ko-KR'),
                totalTime: `${Math.floor(totalDuration / 60)}ë¶„ ${totalDuration % 60}ì´ˆ`,
                stages: debateData.stages.length,
                participants: {
                    pro: participants.pro.length,
                    con: participants.con.length
                },
                opinions: {
                    pro: proOpinions,
                    con: conOpinions
                }
            };
        }

        function displayReport(report) {
            const reportWindow = window.open('', '_blank');
            const reportHtml = `
                <!DOCTYPE html>
                <html lang="ko">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>í† ë¡  ê²°ê³¼ ë¦¬í¬íŠ¸</title>
                    <style>
                        body { 
                            font-family: 'Malgun Gothic', -apple-system, sans-serif; 
                            line-height: 1.6; 
                            margin: 0; 
                            padding: 40px;
                            background: #f8fafc;
                        }
                        .container {
                            max-width: 800px;
                            margin: 0 auto;
                            background: white;
                            padding: 40px;
                            border-radius: 16px;
                            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
                        }
                        .header { 
                            text-align: center; 
                            margin-bottom: 40px; 
                            padding-bottom: 20px;
                            border-bottom: 3px solid #3b82f6;
                        }
                        .header h1 {
                            color: #3b82f6;
                            font-size: 2rem;
                            margin-bottom: 10px;
                        }
                        .info-grid {
                            display: grid;
                            grid-template-columns: 1fr 1fr;
                            gap: 20px;
                            margin-bottom: 30px;
                        }
                        .info-card {
                            background: #f8fafc;
                            padding: 20px;
                            border-radius: 12px;
                            border: 2px solid #e2e8f0;
                        }
                        .team-section { 
                            margin-bottom: 30px; 
                            padding: 25px; 
                            border-radius: 12px;
                        }
                        .pro-team { 
                            border: 2px solid #10b981; 
                            background: linear-gradient(135deg, #ecfdf5, #f0fdf4); 
                        }
                        .con-team { 
                            border: 2px solid #ef4444; 
                            background: linear-gradient(135deg, #fef2f2, #fef5f5); 
                        }
                        .team-title {
                            font-size: 1.3rem;
                            font-weight: bold;
                            margin-bottom: 15px;
                            display: flex;
                            align-items: center;
                            gap: 10px;
                        }
                        .pro-team .team-title { color: #10b981; }
                        .con-team .team-title { color: #ef4444; }
                        .opinion-text {
                            white-space: pre-wrap;
                            line-height: 1.8;
                            padding: 15px;
                            background: white;
                            border-radius: 8px;
                            border: 1px solid #e2e8f0;
                        }
                        .footer {
                            margin-top: 40px;
                            text-align: center;
                            color: #6b7280;
                            font-size: 0.9rem;
                        }
                        @media print {
                            body { background: white; }
                            .container { box-shadow: none; }
                        }
                    </style>
                </head>
                <body>
                    <div class="container">
                        <div class="header">
                            <h1>ğŸ’¬ í† ë¡  ê²°ê³¼ ë¦¬í¬íŠ¸</h1>
                            <p><strong>ì£¼ì œ:</strong> ${report.topic}</p>
                            <p>ìƒì„±ì¼: ${report.date}</p>
                        </div>
                        
                        <div class="info-grid">
                            <div class="info-card">
                                <h3>ğŸ“Š í† ë¡  ì •ë³´</h3>
                                <p><strong>ì´ ì†Œìš”ì‹œê°„:</strong> ${report.totalTime}</p>
                                <p><strong>ì§„í–‰ ë‹¨ê³„:</strong> ${report.stages}ë‹¨ê³„</p>
                            </div>
                            <div class="info-card">
                                <h3>ğŸ‘¥ ì°¸ê°€ì ì •ë³´</h3>
                                <p><strong>ì°¬ì„±íŒ€:</strong> ${report.participants.pro}ëª…</p>
                                <p><strong>ë°˜ëŒ€íŒ€:</strong> ${report.participants.con}ëª…</p>
                            </div>
                        </div>
                        
                        <div class="team-section pro-team">
                            <div class="team-title">
                                <span>ğŸ‘</span>
                                ì°¬ì„±íŒ€ ì£¼ìš” ì˜ê²¬
                            </div>
                            <div class="opinion-text">${report.opinions.pro || 'ê¸°ë¡ëœ ì˜ê²¬ì´ ì—†ìŠµë‹ˆë‹¤.'}</div>
                        </div>
                        
                        <div class="team-section con-team">
                            <div class="team-title">
                                <span>ğŸ‘</span>
                                ë°˜ëŒ€íŒ€ ì£¼ìš” ì˜ê²¬
                            </div>
                            <div class="opinion-text">${report.opinions.con || 'ê¸°ë¡ëœ ì˜ê²¬ì´ ì—†ìŠµë‹ˆë‹¤.'}</div>
                        </div>
                        
                        <div class="footer">
                            <p>SuperClaude Framework - ì‹¤ì‹œê°„ í† ë¡  ì§„í–‰ ë„êµ¬</p>
                            <p>ìƒì„± ì‹œê°: ${new Date().toLocaleString('ko-KR')}</p>
                        </div>
                    </div>
                </body>
                </html>
            `;
            
            reportWindow.document.write(reportHtml);
            reportWindow.document.close();
        }

        function printResults() {
            const report = generateDebateReport();
            displayReport(report);
            setTimeout(() => {
                window.print();
            }, 1000);
        }

        function exportResults() {
            const exportData = {
                ...debateData,
                exportDate: new Date().toISOString(),
                version: '2.0'
            };
            
            const blob = new Blob([JSON.stringify(exportData, null, 2)], { 
                type: 'application/json' 
            });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `í† ë¡ ê²°ê³¼_${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            showStatus('í† ë¡  ê²°ê³¼ë¥¼ ë‚´ë³´ëƒˆìŠµë‹ˆë‹¤.', 'success');
        }

        function shareResults() {
            if (navigator.share) {
                const report = generateDebateReport();
                navigator.share({
                    title: 'í† ë¡  ê²°ê³¼ ê³µìœ ',
                    text: `í† ë¡  ì£¼ì œ: ${report.topic}\nì§„í–‰ ì‹œê°„: ${report.totalTime}\nì°¸ê°€ì: ${report.participants.pro + report.participants.con}ëª…`,
                    url: window.location.href
                });
            } else {
                // í´ë°±: í´ë¦½ë³´ë“œ ë³µì‚¬
                const report = generateDebateReport();
                const shareText = `
ğŸ¯ í† ë¡  ì£¼ì œ: ${report.topic}
ğŸ“… ì¼ì‹œ: ${report.date}
â±ï¸ ì†Œìš”ì‹œê°„: ${report.totalTime}
ğŸ‘¥ ì°¸ê°€ì: ${report.participants.pro + report.participants.con}ëª… (ì°¬ì„± ${report.participants.pro}ëª…, ë°˜ëŒ€ ${report.participants.con}ëª…)

SuperClaude Framework - ì‹¤ì‹œê°„ í† ë¡  ì§„í–‰ ë„êµ¬
                `.trim();
                
                navigator.clipboard.writeText(shareText).then(() => {
                    showStatus('ê³µìœ  ì •ë³´ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                });
            }
        }

        // ===== ì„¸ì…˜ ê´€ë¦¬ =====
        function startDebateSession() {
            const topic = document.getElementById('debateTopicInput').value;
            if (!topic.trim()) {
                showStatus('í† ë¡  ì£¼ì œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
                return;
            }
            
            debateData.topic = topic;
            debateData.startTime = Date.now();
            debateData.stages = [];
            
            showStatus('í† ë¡  ì„¸ì…˜ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
            recordStageStart();
        }

        // ===== ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ =====
        function showLoading(message = 'ì²˜ë¦¬ ì¤‘...') {
            const overlay = document.getElementById('loadingOverlay');
            const content = overlay.querySelector('.loading-content h3');
            content.textContent = message;
            overlay.classList.add('active');
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').classList.remove('active');
        }

        function showStatus(message, type = 'info') {
            const statusEl = document.getElementById('statusMessage');
            statusEl.textContent = message;
            statusEl.className = `status-message ${type}`;
            statusEl.classList.add('show');
            
            setTimeout(() => {
                statusEl.classList.remove('show');
            }, type === 'success' ? 3000 : 5000);
        }

        function showHelp() {
            const helpContent = `
ğŸ¯ ì‹¤ì‹œê°„ í† ë¡  ì§„í–‰ ë„êµ¬ v2.0 ì‚¬ìš© ê°€ì´ë“œ

ğŸ“‹ ì£¼ìš” ê¸°ëŠ¥:
â€¢ AI ê¸°ë°˜ í† ë¡  ë¶„ì„ ë° ì§ˆë¬¸ ìƒì„±
â€¢ ì‹¤ì‹œê°„ íƒ€ì´ë¨¸ ë° ë‹¨ê³„ë³„ ì§„í–‰ ê´€ë¦¬
â€¢ ì°¸ê°€ì ë°œì–¸ ì¶”ì  ë° ì˜ê²¬ ê¸°ë¡
â€¢ í† ë¡  í†µê³„ ë° ê· í˜•ë„ ë¶„ì„
â€¢ ì „ë¬¸ì ì¸ ê²°ê³¼ ë¦¬í¬íŠ¸ ìƒì„±

â° íƒ€ì´ë¨¸ ì‹œìŠ¤í…œ:
â€¢ ë‹¨ê³„ë³„ ê¶Œì¥ ì‹œê°„ ìë™ ì„¤ì •
â€¢ ì‹œê°„ ì¢…ë£Œ ì•Œë¦¼ ë° ìë™ ë‹¨ê³„ ì „í™˜
â€¢ ì§„í–‰ë¥  ì‹œê°í™” ë° ìƒíƒœ ì¶”ì 

ğŸ‘¥ ì°¸ê°€ì ê´€ë¦¬:
â€¢ ì‹¤ì‹œê°„ ë°œì–¸ì í‘œì‹œ ë° ì „í™˜
â€¢ íŒ€ë³„ ì˜ê²¬ ì‹¤ì‹œê°„ ê¸°ë¡
â€¢ ì°¸ê°€ì ì¶”ê°€/ì œê±° ë™ì  ê´€ë¦¬

ğŸ¤– AI ë¶„ì„:
â€¢ í† ë¡  ê· í˜•ë„ ë° ë…¼ë¦¬ì„± ë¶„ì„
â€¢ ê°œì„  ì œì•ˆì‚¬í•­ ìë™ ìƒì„±
â€¢ í† ë¡  ì§ˆë¬¸ AI ìƒì„±

ğŸ“Š ê²°ê³¼ ê´€ë¦¬:
â€¢ ìƒì„¸í•œ í† ë¡  ë¦¬í¬íŠ¸ ìƒì„±
â€¢ ë‹¤ì–‘í•œ í˜•íƒœë¡œ ë‚´ë³´ë‚´ê¸° (JSON, ì¸ì‡„)
â€¢ ì„¸ì…˜ ë°ì´í„° ìë™ ì €ì¥

ğŸ’¡ ì‚¬ìš© íŒ:
â€¢ ê° ë‹¨ê³„ë§ˆë‹¤ ì¶©ë¶„í•œ ì‹œê°„ì„ ë°°ì •í•˜ì„¸ìš”
â€¢ ì‹¤ì‹œê°„ìœ¼ë¡œ ì˜ê²¬ì„ ê¸°ë¡í•˜ì—¬ ë‚˜ì¤‘ì— ë¶„ì„í•˜ì„¸ìš”  
â€¢ AI ë¶„ì„ì„ í™œìš©í•´ í† ë¡  í’ˆì§ˆì„ ê°œì„ í•˜ì„¸ìš”
â€¢ ì •ê¸°ì ìœ¼ë¡œ ê²°ê³¼ë¥¼ ì €ì¥í•˜ì—¬ ë°ì´í„°ë¥¼ ë³´ì¡´í•˜ì„¸ìš”

ğŸ”§ ë¬¸ì œ í•´ê²°:
â€¢ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì‹œ ë°ì´í„°ê°€ ìë™ ë³µì›ë©ë‹ˆë‹¤
â€¢ íƒ€ì´ë¨¸ê°€ ì‘ë™í•˜ì§€ ì•Šìœ¼ë©´ ë¸Œë¼ìš°ì € ìƒˆë¡œê³ ì¹¨ì„ ì‹œë„í•˜ì„¸ìš”
â€¢ AI ë¶„ì„ì´ ì‹¤íŒ¨í•˜ë©´ ì˜ê²¬ ì…ë ¥ì„ ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”

ë” ìì„¸í•œ ë§¤ë‰´ì–¼ì´ í•„ìš”í•˜ì‹œë©´ ë„ì›€ë§ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”! ğŸš€
            `.trim();
            
            alert(helpContent);
        }

        // ===== í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ =====
        document.addEventListener('keydown', function(event) {
            if (event.ctrlKey || event.metaKey) {
                switch(event.key) {
                    case ' ': // Ctrl/Cmd + Space: íƒ€ì´ë¨¸ ì‹œì‘/ì¼ì‹œì •ì§€
                        event.preventDefault();
                        if (isTimerRunning) {
                            pauseTimer();
                        } else {
                            startTimer();
                        }
                        break;
                    case 'r': // Ctrl/Cmd + R: íƒ€ì´ë¨¸ ë¦¬ì…‹
                        event.preventDefault();
                        resetTimer();
                        break;
                    case 's': // Ctrl/Cmd + S: ê²°ê³¼ ì €ì¥
                        event.preventDefault();
                        saveResults();
                        break;
                    case 'Enter': // Ctrl/Cmd + Enter: ë‹¤ìŒ ë‹¨ê³„
                        event.preventDefault();
                        nextStage();
                        break;
                }
            }
        });

        // ===== í˜ì´ì§€ ì–¸ë¡œë“œ ì‹œ ë°ì´í„° ì €ì¥ =====
        window.addEventListener('beforeunload', function(event) {
            saveResults();
        });

        // ===== ì •ê¸° ìë™ ì €ì¥ =====
        setInterval(() => {
            if (debateData.startTime) {
                saveResults();
            }
        }, 30000); // 30ì´ˆë§ˆë‹¤ ìë™ ì €ì¥
    </script>
</body>
</html>